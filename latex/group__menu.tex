\hypertarget{group__menu}{
\section{Menu system}
\label{group__menu}\index{Menu system@{Menu system}}
}
\subsection*{Functions}
\begin{CompactItemize}
\item 
\hyperlink{group__menu_g24ddfa75da5f03482a2df2c9c8d1f711}{menu\_\-get\_\-ancestors} (\$parts)
\item 
\hyperlink{group__menu_g3f9fe4d53dc9d9c3724f956f1465b5be}{menu\_\-unserialize} (\$data, \$map)
\item 
\hyperlink{group__menu_g731543157fbe59176d20af2282df5f75}{menu\_\-set\_\-item} (\$path, \$router\_\-item)
\item 
\hyperlink{group__menu_g855b1ca6ef9e44eb6107a2b9d0f581df}{menu\_\-get\_\-item} (\$path=NULL, \$router\_\-item=NULL)
\item 
\hyperlink{group__menu_gc2cef001e8197fecd49924e6e0e251c6}{menu\_\-execute\_\-active\_\-handler} (\$path=NULL)
\item 
\hyperlink{group__menu_g8aeba67f5ade33d997f9869ce3e41fa6}{\_\-menu\_\-load\_\-objects} (\&\$item, \&\$map)
\item 
\hyperlink{group__menu_g255e3052e7679155b37b82d9bcbe19c9}{\_\-menu\_\-check\_\-access} (\&\$item, \$map)
\item 
\hyperlink{group__menu_g3b0c0f37db66372ac4e90afa35b191e9}{\_\-menu\_\-item\_\-localize} (\&\$item, \$map, \$link\_\-translate=FALSE)
\item 
\hyperlink{group__menu_g0e8535f35bcd1a03e71120a2d6ecc099}{\_\-menu\_\-translate} (\&\$router\_\-item, \$map, \$to\_\-arg=FALSE)
\item 
\hyperlink{group__menu_gac930b7a3cacbf70430c8dc3aa884198}{\_\-menu\_\-link\_\-map\_\-translate} (\&\$map, \$to\_\-arg\_\-functions)
\item 
\hypertarget{group__menu_gad6215c5bf31dffe08a2b75e66345d10}{
\textbf{menu\_\-tail\_\-to\_\-arg} (\$arg, \$map, \$index)}
\label{group__menu_gad6215c5bf31dffe08a2b75e66345d10}

\item 
\hyperlink{group__menu_g360d727a77cd570860dc7b8382cdba05}{\_\-menu\_\-link\_\-translate} (\&\$item)
\item 
\hyperlink{group__menu_g8b1c8825ae7b6ae31b50cadaa1f7c920}{menu\_\-get\_\-object} (\$type= 'node', \$position=1, \$path=NULL)
\item 
\hyperlink{group__menu_ga43c3a496679a1cc16d02d76d0422752}{menu\_\-tree} (\$menu\_\-name= 'navigation')
\item 
\hyperlink{group__menu_g2ef0691992a9df71eb3455ba774053e7}{menu\_\-tree\_\-output} (\$tree)
\item 
\hyperlink{group__menu_ga4b0957cc1027dae4f4093b1b884227d}{menu\_\-tree\_\-all\_\-data} (\$menu\_\-name= 'navigation', \$item=NULL)
\item 
\hyperlink{group__menu_g84e2ecf44d5b72159370c74c910e93e3}{menu\_\-tree\_\-page\_\-data} (\$menu\_\-name= 'navigation')
\item 
\hyperlink{group__menu_g165ee791b785630b578b0f737812b8b7}{\_\-menu\_\-tree\_\-cid} (\$menu\_\-name, \$data)
\item 
\hyperlink{group__menu_g0c9a63fbbdf8496828f1f80d37459475}{menu\_\-tree\_\-collect\_\-node\_\-links} (\&\$tree, \&\$node\_\-links)
\item 
\hyperlink{group__menu_g6374db210d96026fb70431def083a7a5}{menu\_\-tree\_\-check\_\-access} (\&\$tree, \$node\_\-links=array())
\item 
\hyperlink{group__menu_gd59ba7ae64f452408201f82f8cb7dc25}{\_\-menu\_\-tree\_\-check\_\-access} (\&\$tree)
\item 
\hyperlink{group__menu_gbf77de9e90a7f2c4f889a74cde1ee3e4}{menu\_\-tree\_\-data} (\$result=NULL, \$parents=array(), \$depth=1)
\item 
\hyperlink{group__menu_g70d13ba2c42c6b0da4b0ef68bcc7ed0d}{\_\-menu\_\-tree\_\-data} (\$result, \$parents, \$depth, \$previous\_\-element= '')
\item 
\hyperlink{group__menu_g00dce79e81030a75c94c7a279794b253}{drupal\_\-help\_\-arg} (\$arg=array())
\item 
\hyperlink{group__menu_g21c6572391132f4e1f5b3fd108220bf4}{menu\_\-get\_\-active\_\-help} ()
\item 
\hyperlink{group__menu_gb537c9640c2d63c4c5208412987d7045}{menu\_\-get\_\-names} (\$reset=FALSE)
\item 
\hyperlink{group__menu_g28e765ff428a3f18978af564ee0147d6}{menu\_\-list\_\-system\_\-menus} ()
\item 
\hyperlink{group__menu_g472245ad15500b2f7b253f679afd90c7}{menu\_\-primary\_\-links} ()
\item 
\hyperlink{group__menu_gea7d8f0da28d4082b03e6cadf7af69bd}{menu\_\-secondary\_\-links} ()
\item 
\hyperlink{group__menu_gb4cdacc813ae9e06271aa4aa2d9495a7}{menu\_\-navigation\_\-links} (\$menu\_\-name, \$level=0)
\item 
\hyperlink{group__menu_g6641ad95c6f964fbdc3f594d86696569}{menu\_\-local\_\-tasks} (\$level=0, \$return\_\-root=FALSE)
\item 
\hyperlink{group__menu_g83613b83f90d6a12e2f4170ed0ede9b1}{menu\_\-primary\_\-local\_\-tasks} ()
\item 
\hyperlink{group__menu_gbf84c295da2c986cd8ad305935e31ffb}{menu\_\-secondary\_\-local\_\-tasks} ()
\item 
\hyperlink{group__menu_gcf647362fc7151bbaa1dbe5568a0b6b5}{menu\_\-tab\_\-root\_\-path} ()
\item 
\hyperlink{group__menu_g017400eafe570a87460d4e6a4a305407}{menu\_\-set\_\-active\_\-menu\_\-name} (\$menu\_\-name=NULL)
\item 
\hyperlink{group__menu_g7f449034a05c47e985f5ce8ec31344e2}{menu\_\-get\_\-active\_\-menu\_\-name} ()
\item 
\hyperlink{group__menu_gcdd22102c2ba6545645ae34be563d1d4}{menu\_\-set\_\-active\_\-item} (\$path)
\item 
\hyperlink{group__menu_g9328a9a4f297d8bb095d924e75a8abd7}{menu\_\-set\_\-active\_\-trail} (\$new\_\-trail=NULL)
\item 
\hyperlink{group__menu_g55105d602c5c5ea5b39aae25aa47f8c5}{menu\_\-get\_\-active\_\-trail} ()
\item 
\hyperlink{group__menu_g009731c4b3e736ebb620ba90e7f04207}{menu\_\-get\_\-active\_\-breadcrumb} ()
\item 
\hyperlink{group__menu_gf0a358447097959e53ad1a20b8d811ed}{menu\_\-get\_\-active\_\-title} ()
\item 
\hyperlink{group__menu_gc2b338fa3a449c826661aade7a7d486e}{menu\_\-link\_\-load} (\$mlid)
\item 
\hyperlink{group__menu_g032d6b78c7deab10685ebfa6f32ad7eb}{menu\_\-cache\_\-clear} (\$menu\_\-name= 'navigation')
\item 
\hyperlink{group__menu_g0a10fa44ca152a12091747e515b6a655}{menu\_\-cache\_\-clear\_\-all} ()
\item 
\hyperlink{group__menu_gf36dcb9d5491ef5e7d2cf22c1f5c69f4}{menu\_\-rebuild} ()
\item 
\hyperlink{group__menu_ge6e2fcdb614d7988c160c22d563919ba}{menu\_\-router\_\-build} (\$reset=FALSE)
\item 
\hyperlink{group__menu_g02af3d3800722e9ff5be36485b655905}{\_\-menu\_\-router\_\-cache} (\$new\_\-menu=NULL)
\item 
\hyperlink{group__menu_gdf1f694a2079dcdd6526150eb195915b}{\_\-menu\_\-link\_\-build} (\$item)
\item 
\hyperlink{group__menu_g69fdf86c20d033bc7ba46a14937e20ea}{\_\-menu\_\-navigation\_\-links\_\-rebuild} (\$menu)
\item 
\hyperlink{group__menu_gcb2dddc8ca84476f38a90f4487156b12}{menu\_\-link\_\-delete} (\$mlid, \$path=NULL)
\item 
\hyperlink{group__menu_gf60be5755b46e635c04963e61cdc809a}{\_\-menu\_\-delete\_\-item} (\$item, \$force=FALSE)
\item 
\hyperlink{group__menu_g4fe84fbe31b5a3b6c7fa43e8fe912fb0}{menu\_\-link\_\-save} (\&\$item)
\item 
\hyperlink{group__menu_g6b3bf9ba8f43f983382911beb62ffba0}{\_\-menu\_\-clear\_\-page\_\-cache} ()
\item 
\hyperlink{group__menu_g08212e3890c64045fcf6b44032b343a0}{\_\-menu\_\-set\_\-expanded\_\-menus} ()
\item 
\hyperlink{group__menu_g0842f6b9cf84f5e5ff159159063a78dd}{\_\-menu\_\-find\_\-router\_\-path} (\$link\_\-path)
\item 
\hyperlink{group__menu_ge3248649fb437dedad940df74fb129dc}{menu\_\-link\_\-maintain} (\$module, \$op, \$link\_\-path, \$link\_\-title)
\item 
\hyperlink{group__menu_g75c0660b49841423d8d3c8908e9023fc}{menu\_\-link\_\-children\_\-relative\_\-depth} (\$item)
\item 
\hyperlink{group__menu_geb7542558d6fab7c79b96c1188ee6d67}{\_\-menu\_\-link\_\-move\_\-children} (\$item, \$existing\_\-item)
\item 
\hyperlink{group__menu_g9df6c2183ab9ee0e934eec54a67761d8}{\_\-menu\_\-update\_\-parental\_\-status} (\$item, \$exclude=FALSE)
\item 
\hyperlink{group__menu_g67ab71fff6e17ce3c32752c3bfa00d96}{\_\-menu\_\-link\_\-parents\_\-set} (\&\$item, \$parent)
\item 
\hyperlink{group__menu_g662b13ca71a8b780c9a3b372b25492c3}{\_\-menu\_\-router\_\-build} (\$callbacks)
\item 
\hyperlink{group__menu_gd025fe7dfd80513f2f7baaa66519c508}{menu\_\-path\_\-is\_\-external} (\$path)
\item 
\hyperlink{group__menu_g9ec5f4bcbe8cb76396c1fa9dbbecae5a}{\_\-menu\_\-site\_\-is\_\-offline} ()
\item 
\hyperlink{group__menu_g69ff205e60d5766a074c254060e07456}{menu\_\-valid\_\-path} (\$form\_\-item)
\end{CompactItemize}
\subsection*{Menu flags}
Flags for use in the \char`\"{}type\char`\"{} attribute of menu items. \begin{CompactItemize}
\item 
enum \textbf{MENU\_\-IS\_\-ROOT} 
\item 
enum \textbf{MENU\_\-VISIBLE\_\-IN\_\-TREE} 
\item 
enum \textbf{MENU\_\-VISIBLE\_\-IN\_\-BREADCRUMB} 
\item 
enum \textbf{MENU\_\-LINKS\_\-TO\_\-PARENT} 
\item 
enum \textbf{MENU\_\-MODIFIED\_\-BY\_\-ADMIN} 
\item 
enum \textbf{MENU\_\-CREATED\_\-BY\_\-ADMIN} 
\item 
enum \textbf{MENU\_\-IS\_\-LOCAL\_\-TASK} 
\end{CompactItemize}
\subsection*{Menu item types}
End of \char`\"{}Menu flags\char`\"{}.

Menu item definitions provide one of these constants, which are shortcuts for combinations of the above flags. \begin{CompactItemize}
\item 
enum \hyperlink{group__menu_gc42144282c42a943b05511b38c451e4c}{MENU\_\-NORMAL\_\-ITEM} 
\item 
enum \hyperlink{group__menu_g92850b428279a637ce9bac5c1757700f}{MENU\_\-CALLBACK} 
\item 
enum \hyperlink{group__menu_g0860a2534ce61dc1334dc7ede68e20b3}{MENU\_\-SUGGESTED\_\-ITEM} 
\item 
enum \hyperlink{group__menu_g4dc67226400f237bd3c0a5ef7126008b}{MENU\_\-LOCAL\_\-TASK} 
\item 
enum \hyperlink{group__menu_g251e324e062f2e4c703f51231c0d7dc5}{MENU\_\-DEFAULT\_\-LOCAL\_\-TASK} 
\end{CompactItemize}
\subsection*{Menu status codes}
End of \char`\"{}Menu item types\char`\"{}.

Status codes for menu callbacks. \begin{CompactItemize}
\item 
enum \textbf{MENU\_\-FOUND} 
\item 
enum \textbf{MENU\_\-NOT\_\-FOUND} 
\item 
enum \textbf{MENU\_\-ACCESS\_\-DENIED} 
\item 
enum \textbf{MENU\_\-SITE\_\-OFFLINE} 
\end{CompactItemize}
\begin{CompactItemize}
\item 
enum \hyperlink{group__menu_g57d50c60b259e886bac766d4ef33abb5}{MENU\_\-MAX\_\-PARTS} 
\item 
enum \hyperlink{group__menu_gae0d9e2610b50124cc0d2b120058c9b8}{MENU\_\-MAX\_\-DEPTH} 
\end{CompactItemize}


\subsection{Detailed Description}
Define the navigation menus, and route page requests to code based on URLs.

The Drupal menu system drives both the navigation system from a user perspective and the callback system that Drupal uses to respond to URLs passed from the browser. For this reason, a good understanding of the menu system is fundamental to the creation of complex modules.

Drupal's menu system follows a simple hierarchy defined by paths. Implementations of hook\_\-menu() define menu items and assign them to paths (which should be unique). The menu system aggregates these items and determines the menu hierarchy from the paths. For example, if the paths defined were a, a/b, e, a/b/c/d, f/g, and a/b/h, the menu system would form the structure:\begin{itemize}
\item a\begin{itemize}
\item a/b\begin{itemize}
\item a/b/c/d\item a/b/h\end{itemize}
\end{itemize}
\item e\item f/g Note that the number of elements in the path does not necessarily determine the depth of the menu item in the tree.\end{itemize}


When responding to a page request, the menu system looks to see if the path requested by the browser is registered as a menu item with a callback. If not, the system searches up the menu tree for the most complete match with a callback it can find. If the path a/b/i is requested in the tree above, the callback for a/b would be used.

The found callback function is called with any arguments specified in the \char`\"{}page arguments\char`\"{} attribute of its menu item. The attribute must be an array. After these arguments, any remaining components of the path are appended as further arguments. In this way, the callback for a/b above could respond to a request for a/b/i differently than a request for a/b/j.

For an illustration of this process, see page\_\-example.module.

Access to the callback functions is also protected by the menu system. The \char`\"{}access callback\char`\"{} with an optional \char`\"{}access arguments\char`\"{} of each menu item is called before the page callback proceeds. If this returns TRUE, then access is granted; if FALSE, then access is denied. Menu items may omit this attribute to use the value provided by an ancestor item.

In the default Drupal interface, you will notice many links rendered as tabs. These are known in the menu system as \char`\"{}local tasks\char`\"{}, and they are rendered as tabs by default, though other presentations are possible. Local tasks function just as other menu items in most respects. It is convention that the names of these tasks should be short verbs if possible. In addition, a \char`\"{}default\char`\"{} local task should be provided for each set. When visiting a local task's parent menu item, the default local task will be rendered as if it is selected; this provides for a normal tab user experience. This default task is special in that it links not to its provided path, but to its parent item's path instead. The default task's path is only used to place it appropriately in the menu hierarchy.

Everything described so far is stored in the menu\_\-router table. The menu\_\-links table holds the visible menu links. By default these are derived from the same hook\_\-menu definitions, however you are free to add more with \hyperlink{group__menu_g4fe84fbe31b5a3b6c7fa43e8fe912fb0}{menu\_\-link\_\-save()}. 

\subsection{Enumeration Type Documentation}
\hypertarget{group__menu_g92850b428279a637ce9bac5c1757700f}{
\index{menu@{menu}!MENU\_\-CALLBACK@{MENU\_\-CALLBACK}}
\index{MENU\_\-CALLBACK@{MENU\_\-CALLBACK}!menu@{menu}}
\subsubsection[{MENU\_\-CALLBACK}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf MENU\_\-CALLBACK}}}
\label{group__menu_g92850b428279a637ce9bac5c1757700f}


Callbacks simply register a path so that the correct function is fired when the URL is accessed. They are not shown in the menu. \hypertarget{group__menu_g251e324e062f2e4c703f51231c0d7dc5}{
\index{menu@{menu}!MENU\_\-DEFAULT\_\-LOCAL\_\-TASK@{MENU\_\-DEFAULT\_\-LOCAL\_\-TASK}}
\index{MENU\_\-DEFAULT\_\-LOCAL\_\-TASK@{MENU\_\-DEFAULT\_\-LOCAL\_\-TASK}!menu@{menu}}
\subsubsection[{MENU\_\-DEFAULT\_\-LOCAL\_\-TASK}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf MENU\_\-DEFAULT\_\-LOCAL\_\-TASK}}}
\label{group__menu_g251e324e062f2e4c703f51231c0d7dc5}


Every set of local tasks should provide one \char`\"{}default\char`\"{} task, that links to the same path as its parent when clicked. \hypertarget{group__menu_g4dc67226400f237bd3c0a5ef7126008b}{
\index{menu@{menu}!MENU\_\-LOCAL\_\-TASK@{MENU\_\-LOCAL\_\-TASK}}
\index{MENU\_\-LOCAL\_\-TASK@{MENU\_\-LOCAL\_\-TASK}!menu@{menu}}
\subsubsection[{MENU\_\-LOCAL\_\-TASK}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf MENU\_\-LOCAL\_\-TASK}}}
\label{group__menu_g4dc67226400f237bd3c0a5ef7126008b}


Local tasks are rendered as tabs by default. Use this for menu items that describe actions to be performed on their parent item. An example is the path \char`\"{}node/52/edit\char`\"{}, which performs the \char`\"{}edit\char`\"{} task on \char`\"{}node/52\char`\"{}. \hypertarget{group__menu_gae0d9e2610b50124cc0d2b120058c9b8}{
\index{menu@{menu}!MENU\_\-MAX\_\-DEPTH@{MENU\_\-MAX\_\-DEPTH}}
\index{MENU\_\-MAX\_\-DEPTH@{MENU\_\-MAX\_\-DEPTH}!menu@{menu}}
\subsubsection[{MENU\_\-MAX\_\-DEPTH}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf MENU\_\-MAX\_\-DEPTH}}}
\label{group__menu_gae0d9e2610b50124cc0d2b120058c9b8}


The maximum depth of a menu links tree - matches the number of p columns. \hypertarget{group__menu_g57d50c60b259e886bac766d4ef33abb5}{
\index{menu@{menu}!MENU\_\-MAX\_\-PARTS@{MENU\_\-MAX\_\-PARTS}}
\index{MENU\_\-MAX\_\-PARTS@{MENU\_\-MAX\_\-PARTS}!menu@{menu}}
\subsubsection[{MENU\_\-MAX\_\-PARTS}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf MENU\_\-MAX\_\-PARTS}}}
\label{group__menu_g57d50c60b259e886bac766d4ef33abb5}


End of \char`\"{}Menu status codes\char`\"{}.  Menu tree parameters

Menu tree The maximum number of path elements for a menu callback \hypertarget{group__menu_gc42144282c42a943b05511b38c451e4c}{
\index{menu@{menu}!MENU\_\-NORMAL\_\-ITEM@{MENU\_\-NORMAL\_\-ITEM}}
\index{MENU\_\-NORMAL\_\-ITEM@{MENU\_\-NORMAL\_\-ITEM}!menu@{menu}}
\subsubsection[{MENU\_\-NORMAL\_\-ITEM}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf MENU\_\-NORMAL\_\-ITEM}}}
\label{group__menu_gc42144282c42a943b05511b38c451e4c}


Normal menu items show up in the menu tree and can be moved/hidden by the administrator. Use this for most menu items. It is the default value if no menu item type is specified. \hypertarget{group__menu_g0860a2534ce61dc1334dc7ede68e20b3}{
\index{menu@{menu}!MENU\_\-SUGGESTED\_\-ITEM@{MENU\_\-SUGGESTED\_\-ITEM}}
\index{MENU\_\-SUGGESTED\_\-ITEM@{MENU\_\-SUGGESTED\_\-ITEM}!menu@{menu}}
\subsubsection[{MENU\_\-SUGGESTED\_\-ITEM}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf MENU\_\-SUGGESTED\_\-ITEM}}}
\label{group__menu_g0860a2534ce61dc1334dc7ede68e20b3}


Modules may \char`\"{}suggest\char`\"{} menu items that the administrator may enable. They act just as callbacks do until enabled, at which time they act like normal items. Note for the value: 0x0010 was a flag which is no longer used, but this way the values of MENU\_\-CALLBACK and MENU\_\-SUGGESTED\_\-ITEM are separate. 

\subsection{Function Documentation}
\hypertarget{group__menu_g255e3052e7679155b37b82d9bcbe19c9}{
\index{menu@{menu}!\_\-menu\_\-check\_\-access@{\_\-menu\_\-check\_\-access}}
\index{\_\-menu\_\-check\_\-access@{\_\-menu\_\-check\_\-access}!menu@{menu}}
\subsubsection[{\_\-menu\_\-check\_\-access}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-check\_\-access (\&\$ {\em item}, \/  \$ {\em map})}}
\label{group__menu_g255e3052e7679155b37b82d9bcbe19c9}


Check access to a menu item using the access callback

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$item}]A menu router or menu link item \item[{\em \$map}]An array of path arguments (ex: array('node', '5')) \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]\$item\mbox{[}'access'\mbox{]} becomes TRUE if the item is accessible, FALSE otherwise. \end{Desc}
\hypertarget{group__menu_g6b3bf9ba8f43f983382911beb62ffba0}{
\index{menu@{menu}!\_\-menu\_\-clear\_\-page\_\-cache@{\_\-menu\_\-clear\_\-page\_\-cache}}
\index{\_\-menu\_\-clear\_\-page\_\-cache@{\_\-menu\_\-clear\_\-page\_\-cache}!menu@{menu}}
\subsubsection[{\_\-menu\_\-clear\_\-page\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-clear\_\-page\_\-cache ()}}
\label{group__menu_g6b3bf9ba8f43f983382911beb62ffba0}


Helper function to clear the page and block caches at most twice per page load. \hypertarget{group__menu_gf60be5755b46e635c04963e61cdc809a}{
\index{menu@{menu}!\_\-menu\_\-delete\_\-item@{\_\-menu\_\-delete\_\-item}}
\index{\_\-menu\_\-delete\_\-item@{\_\-menu\_\-delete\_\-item}!menu@{menu}}
\subsubsection[{\_\-menu\_\-delete\_\-item}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-delete\_\-item (\$ {\em item}, \/  \$ {\em force} = {\tt FALSE})}}
\label{group__menu_gf60be5755b46e635c04963e61cdc809a}


Helper function for menu\_\-link\_\-delete; deletes a single menu link.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$item}]Item to be deleted. \item[{\em \$force}]Forces deletion. Internal use only, setting to TRUE is discouraged. \end{description}
\end{Desc}
\hypertarget{group__menu_g0842f6b9cf84f5e5ff159159063a78dd}{
\index{menu@{menu}!\_\-menu\_\-find\_\-router\_\-path@{\_\-menu\_\-find\_\-router\_\-path}}
\index{\_\-menu\_\-find\_\-router\_\-path@{\_\-menu\_\-find\_\-router\_\-path}!menu@{menu}}
\subsubsection[{\_\-menu\_\-find\_\-router\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-find\_\-router\_\-path (\$ {\em link\_\-path})}}
\label{group__menu_g0842f6b9cf84f5e5ff159159063a78dd}


Find the router path which will serve this path.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$link\_\-path}]The path for we are looking up its router path. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]A path from \$menu keys or empty if \$link\_\-path points to a nonexisting place. \end{Desc}
\hypertarget{group__menu_g3b0c0f37db66372ac4e90afa35b191e9}{
\index{menu@{menu}!\_\-menu\_\-item\_\-localize@{\_\-menu\_\-item\_\-localize}}
\index{\_\-menu\_\-item\_\-localize@{\_\-menu\_\-item\_\-localize}!menu@{menu}}
\subsubsection[{\_\-menu\_\-item\_\-localize}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-item\_\-localize (\&\$ {\em item}, \/  \$ {\em map}, \/  \$ {\em link\_\-translate} = {\tt FALSE})}}
\label{group__menu_g3b0c0f37db66372ac4e90afa35b191e9}


Localize the router item title using \hyperlink{common_8inc_41d20f0c822bf1f3c26a97981c762665}{t()} or another callback.

Translate the title and description to allow storage of English title strings in the database, yet display of them in the language required by the current user.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$item}]A menu router item or a menu link item. \item[{\em \$map}]The path as an array with objects already replaced. E.g., for path node/123 \$map would be array('node', \$node) where \$node is the node object for node 123. \item[{\em \$link\_\-translate}]TRUE if we are translating a menu link item; FALSE if we are translating a menu router item. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]No return value. \$item\mbox{[}'title'\mbox{]} is localized according to \$item\mbox{[}'title\_\-callback'\mbox{]}. If an item's callback is \hyperlink{bootstrap_8inc_76fc67a30fd8d75ddd80565e6e65a13d}{check\_\-plain()}, \$item\mbox{[}'options'\mbox{]}\mbox{[}'html'\mbox{]} becomes TRUE. \$item\mbox{[}'description'\mbox{]} is translated using \hyperlink{common_8inc_41d20f0c822bf1f3c26a97981c762665}{t()}. When doing link translation and the \$item\mbox{[}'options'\mbox{]}\mbox{[}'attributes'\mbox{]}\mbox{[}'title'\mbox{]} (link title attribute) matches the description, it is translated as well. \end{Desc}
\hypertarget{group__menu_gdf1f694a2079dcdd6526150eb195915b}{
\index{menu@{menu}!\_\-menu\_\-link\_\-build@{\_\-menu\_\-link\_\-build}}
\index{\_\-menu\_\-link\_\-build@{\_\-menu\_\-link\_\-build}!menu@{menu}}
\subsubsection[{\_\-menu\_\-link\_\-build}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-link\_\-build (\$ {\em item})}}
\label{group__menu_gdf1f694a2079dcdd6526150eb195915b}


Builds a link from a router item. \hypertarget{group__menu_gac930b7a3cacbf70430c8dc3aa884198}{
\index{menu@{menu}!\_\-menu\_\-link\_\-map\_\-translate@{\_\-menu\_\-link\_\-map\_\-translate}}
\index{\_\-menu\_\-link\_\-map\_\-translate@{\_\-menu\_\-link\_\-map\_\-translate}!menu@{menu}}
\subsubsection[{\_\-menu\_\-link\_\-map\_\-translate}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-link\_\-map\_\-translate (\&\$ {\em map}, \/  \$ {\em to\_\-arg\_\-functions})}}
\label{group__menu_gac930b7a3cacbf70430c8dc3aa884198}


This function translates the path elements in the map using any to\_\-arg helper function. These functions take an argument and return an object. See \href{http://drupal.org/node/109153}{\tt http://drupal.org/node/109153} for more information.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em map}]An array of path arguments (ex: array('node', '5')) \item[{\em \$to\_\-arg\_\-functions}]An array of helper function (ex: array(2 =$>$ 'menu\_\-tail\_\-to\_\-arg')) \end{description}
\end{Desc}
\hypertarget{group__menu_geb7542558d6fab7c79b96c1188ee6d67}{
\index{menu@{menu}!\_\-menu\_\-link\_\-move\_\-children@{\_\-menu\_\-link\_\-move\_\-children}}
\index{\_\-menu\_\-link\_\-move\_\-children@{\_\-menu\_\-link\_\-move\_\-children}!menu@{menu}}
\subsubsection[{\_\-menu\_\-link\_\-move\_\-children}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-link\_\-move\_\-children (\$ {\em item}, \/  \$ {\em existing\_\-item})}}
\label{group__menu_geb7542558d6fab7c79b96c1188ee6d67}


Update the children of a menu link that's being moved.

The menu name, parents (p1 - p6), and depth are updated for all children of the link, and the has\_\-children status of the previous parent is updated. \hypertarget{group__menu_g67ab71fff6e17ce3c32752c3bfa00d96}{
\index{menu@{menu}!\_\-menu\_\-link\_\-parents\_\-set@{\_\-menu\_\-link\_\-parents\_\-set}}
\index{\_\-menu\_\-link\_\-parents\_\-set@{\_\-menu\_\-link\_\-parents\_\-set}!menu@{menu}}
\subsubsection[{\_\-menu\_\-link\_\-parents\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-link\_\-parents\_\-set (\&\$ {\em item}, \/  \$ {\em parent})}}
\label{group__menu_g67ab71fff6e17ce3c32752c3bfa00d96}


Helper function that sets the p1..p9 values for a menu link being saved. \hypertarget{group__menu_g360d727a77cd570860dc7b8382cdba05}{
\index{menu@{menu}!\_\-menu\_\-link\_\-translate@{\_\-menu\_\-link\_\-translate}}
\index{\_\-menu\_\-link\_\-translate@{\_\-menu\_\-link\_\-translate}!menu@{menu}}
\subsubsection[{\_\-menu\_\-link\_\-translate}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-link\_\-translate (\&\$ {\em item})}}
\label{group__menu_g360d727a77cd570860dc7b8382cdba05}


This function is similar to \hyperlink{group__menu_g0e8535f35bcd1a03e71120a2d6ecc099}{\_\-menu\_\-translate()} but does link-specific preparation such as always calling to\_\-arg functions.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$item}]A menu link \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Returns the map of path arguments with objects loaded as defined in the \$item\mbox{[}'load\_\-functions'\mbox{]}:\begin{itemize}
\item \$item\mbox{[}'access'\mbox{]} becomes TRUE if the item is accessible, FALSE otherwise.\item \$item\mbox{[}'href'\mbox{]} is generated from link\_\-path, possibly by to\_\-arg functions.\item \$item\mbox{[}'title'\mbox{]} is generated from link\_\-title, and may be localized.\item \$item\mbox{[}'options'\mbox{]} is unserialized; it is also changed within the call here to \$item\mbox{[}'localized\_\-options'\mbox{]} by \hyperlink{group__menu_g3b0c0f37db66372ac4e90afa35b191e9}{\_\-menu\_\-item\_\-localize()}. \end{itemize}
\end{Desc}
\hypertarget{group__menu_g8aeba67f5ade33d997f9869ce3e41fa6}{
\index{menu@{menu}!\_\-menu\_\-load\_\-objects@{\_\-menu\_\-load\_\-objects}}
\index{\_\-menu\_\-load\_\-objects@{\_\-menu\_\-load\_\-objects}!menu@{menu}}
\subsubsection[{\_\-menu\_\-load\_\-objects}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-load\_\-objects (\&\$ {\em item}, \/  \&\$ {\em map})}}
\label{group__menu_g8aeba67f5ade33d997f9869ce3e41fa6}


Loads objects into the map as defined in the \$item\mbox{[}'load\_\-functions'\mbox{]}.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$item}]A menu router or menu link item \item[{\em \$map}]An array of path arguments (ex: array('node', '5')) \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Returns TRUE for success, FALSE if an object cannot be loaded. Names of object loading functions are placed in \$item\mbox{[}'load\_\-functions'\mbox{]}. Loaded objects are placed in \$map\mbox{[}\mbox{]}; keys are the same as keys in the \$item\mbox{[}'load\_\-functions'\mbox{]} array. \$item\mbox{[}'access'\mbox{]} is set to FALSE if an object cannot be loaded. \end{Desc}
\hypertarget{group__menu_g69fdf86c20d033bc7ba46a14937e20ea}{
\index{menu@{menu}!\_\-menu\_\-navigation\_\-links\_\-rebuild@{\_\-menu\_\-navigation\_\-links\_\-rebuild}}
\index{\_\-menu\_\-navigation\_\-links\_\-rebuild@{\_\-menu\_\-navigation\_\-links\_\-rebuild}!menu@{menu}}
\subsubsection[{\_\-menu\_\-navigation\_\-links\_\-rebuild}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-navigation\_\-links\_\-rebuild (\$ {\em menu})}}
\label{group__menu_g69fdf86c20d033bc7ba46a14937e20ea}


Helper function to build menu links for the items in the menu router. \hypertarget{group__menu_g662b13ca71a8b780c9a3b372b25492c3}{
\index{menu@{menu}!\_\-menu\_\-router\_\-build@{\_\-menu\_\-router\_\-build}}
\index{\_\-menu\_\-router\_\-build@{\_\-menu\_\-router\_\-build}!menu@{menu}}
\subsubsection[{\_\-menu\_\-router\_\-build}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-router\_\-build (\$ {\em callbacks})}}
\label{group__menu_g662b13ca71a8b780c9a3b372b25492c3}


Helper function to build the router table based on the data from hook\_\-menu. \hypertarget{group__menu_g02af3d3800722e9ff5be36485b655905}{
\index{menu@{menu}!\_\-menu\_\-router\_\-cache@{\_\-menu\_\-router\_\-cache}}
\index{\_\-menu\_\-router\_\-cache@{\_\-menu\_\-router\_\-cache}!menu@{menu}}
\subsubsection[{\_\-menu\_\-router\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-router\_\-cache (\$ {\em new\_\-menu} = {\tt NULL})}}
\label{group__menu_g02af3d3800722e9ff5be36485b655905}


Helper function to store the menu router if we have it in memory. \hypertarget{group__menu_g08212e3890c64045fcf6b44032b343a0}{
\index{menu@{menu}!\_\-menu\_\-set\_\-expanded\_\-menus@{\_\-menu\_\-set\_\-expanded\_\-menus}}
\index{\_\-menu\_\-set\_\-expanded\_\-menus@{\_\-menu\_\-set\_\-expanded\_\-menus}!menu@{menu}}
\subsubsection[{\_\-menu\_\-set\_\-expanded\_\-menus}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-set\_\-expanded\_\-menus ()}}
\label{group__menu_g08212e3890c64045fcf6b44032b343a0}


Helper function to update a list of menus with expanded items \hypertarget{group__menu_g9ec5f4bcbe8cb76396c1fa9dbbecae5a}{
\index{menu@{menu}!\_\-menu\_\-site\_\-is\_\-offline@{\_\-menu\_\-site\_\-is\_\-offline}}
\index{\_\-menu\_\-site\_\-is\_\-offline@{\_\-menu\_\-site\_\-is\_\-offline}!menu@{menu}}
\subsubsection[{\_\-menu\_\-site\_\-is\_\-offline}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-site\_\-is\_\-offline ()}}
\label{group__menu_g9ec5f4bcbe8cb76396c1fa9dbbecae5a}


Checks whether the site is off-line for maintenance.

This function will log the current user out and redirect to front page if the current user has no 'administer site configuration' permission.

\begin{Desc}
\item[Returns:]FALSE if the site is not off-line or its the login page or the user has 'administer site configuration' permission. TRUE for anonymous users not on the login page if the site is off-line. \end{Desc}
\hypertarget{group__menu_g0e8535f35bcd1a03e71120a2d6ecc099}{
\index{menu@{menu}!\_\-menu\_\-translate@{\_\-menu\_\-translate}}
\index{\_\-menu\_\-translate@{\_\-menu\_\-translate}!menu@{menu}}
\subsubsection[{\_\-menu\_\-translate}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-translate (\&\$ {\em router\_\-item}, \/  \$ {\em map}, \/  \$ {\em to\_\-arg} = {\tt FALSE})}}
\label{group__menu_g0e8535f35bcd1a03e71120a2d6ecc099}


Handles dynamic path translation and menu access control.

When a user arrives on a page such as node/5, this function determines what \char`\"{}5\char`\"{} corresponds to, by inspecting the page's menu path definition, node/node. This will call node\_\-load(5) to load the corresponding node object.

It also works in reverse, to allow the display of tabs and menu items which contain these dynamic arguments, translating node/node to node/5.

Translation of menu item titles and descriptions are done here to allow for storage of English strings in the database, and translation to the language required to generate the current page

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$router\_\-item}]A menu router item \item[{\em \$map}]An array of path arguments (ex: array('node', '5')) \item[{\em \$to\_\-arg}]Execute \$item\mbox{[}'to\_\-arg\_\-functions'\mbox{]} or not. Use only if you want to render a path from the menu table, for example tabs. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Returns the map with objects loaded as defined in the \$item\mbox{[}'load\_\-functions. \$item\mbox{[}'access'\mbox{]} becomes TRUE if the item is accessible, FALSE otherwise. \$item\mbox{[}'href'\mbox{]} is set according to the map. If an error occurs during calling the load\_\-functions (like trying to load a non existing node) then this function return FALSE. \end{Desc}
\hypertarget{group__menu_gd59ba7ae64f452408201f82f8cb7dc25}{
\index{menu@{menu}!\_\-menu\_\-tree\_\-check\_\-access@{\_\-menu\_\-tree\_\-check\_\-access}}
\index{\_\-menu\_\-tree\_\-check\_\-access@{\_\-menu\_\-tree\_\-check\_\-access}!menu@{menu}}
\subsubsection[{\_\-menu\_\-tree\_\-check\_\-access}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-tree\_\-check\_\-access (\&\$ {\em tree})}}
\label{group__menu_gd59ba7ae64f452408201f82f8cb7dc25}


Recursive helper function for \hyperlink{group__menu_g6374db210d96026fb70431def083a7a5}{menu\_\-tree\_\-check\_\-access()} \hypertarget{group__menu_g165ee791b785630b578b0f737812b8b7}{
\index{menu@{menu}!\_\-menu\_\-tree\_\-cid@{\_\-menu\_\-tree\_\-cid}}
\index{\_\-menu\_\-tree\_\-cid@{\_\-menu\_\-tree\_\-cid}!menu@{menu}}
\subsubsection[{\_\-menu\_\-tree\_\-cid}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-tree\_\-cid (\$ {\em menu\_\-name}, \/  \$ {\em data})}}
\label{group__menu_g165ee791b785630b578b0f737812b8b7}


Helper function - compute the real cache ID for menu tree data. \hypertarget{group__menu_g70d13ba2c42c6b0da4b0ef68bcc7ed0d}{
\index{menu@{menu}!\_\-menu\_\-tree\_\-data@{\_\-menu\_\-tree\_\-data}}
\index{\_\-menu\_\-tree\_\-data@{\_\-menu\_\-tree\_\-data}!menu@{menu}}
\subsubsection[{\_\-menu\_\-tree\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-tree\_\-data (\$ {\em result}, \/  \$ {\em parents}, \/  \$ {\em depth}, \/  \$ {\em previous\_\-element} = {\tt ''})}}
\label{group__menu_g70d13ba2c42c6b0da4b0ef68bcc7ed0d}


Recursive helper function to build the data representing a menu tree.

The function is a bit complex because the rendering of an item depends on the next menu item. So we are always rendering the element previously processed not the current one. \hypertarget{group__menu_g9df6c2183ab9ee0e934eec54a67761d8}{
\index{menu@{menu}!\_\-menu\_\-update\_\-parental\_\-status@{\_\-menu\_\-update\_\-parental\_\-status}}
\index{\_\-menu\_\-update\_\-parental\_\-status@{\_\-menu\_\-update\_\-parental\_\-status}!menu@{menu}}
\subsubsection[{\_\-menu\_\-update\_\-parental\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}\_\-menu\_\-update\_\-parental\_\-status (\$ {\em item}, \/  \$ {\em exclude} = {\tt FALSE})}}
\label{group__menu_g9df6c2183ab9ee0e934eec54a67761d8}


Check and update the has\_\-children status for the parent of a link. \hypertarget{group__menu_g00dce79e81030a75c94c7a279794b253}{
\index{menu@{menu}!drupal\_\-help\_\-arg@{drupal\_\-help\_\-arg}}
\index{drupal\_\-help\_\-arg@{drupal\_\-help\_\-arg}!menu@{menu}}
\subsubsection[{drupal\_\-help\_\-arg}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-help\_\-arg (\$ {\em arg} = {\tt array()})}}
\label{group__menu_g00dce79e81030a75c94c7a279794b253}


Generates elements for the \$arg array in the help hook. \hypertarget{group__menu_g032d6b78c7deab10685ebfa6f32ad7eb}{
\index{menu@{menu}!menu\_\-cache\_\-clear@{menu\_\-cache\_\-clear}}
\index{menu\_\-cache\_\-clear@{menu\_\-cache\_\-clear}!menu@{menu}}
\subsubsection[{menu\_\-cache\_\-clear}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-cache\_\-clear (\$ {\em menu\_\-name} = {\tt 'navigation'})}}
\label{group__menu_g032d6b78c7deab10685ebfa6f32ad7eb}


Clears the cached cached data for a single named menu. \hypertarget{group__menu_g0a10fa44ca152a12091747e515b6a655}{
\index{menu@{menu}!menu\_\-cache\_\-clear\_\-all@{menu\_\-cache\_\-clear\_\-all}}
\index{menu\_\-cache\_\-clear\_\-all@{menu\_\-cache\_\-clear\_\-all}!menu@{menu}}
\subsubsection[{menu\_\-cache\_\-clear\_\-all}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-cache\_\-clear\_\-all ()}}
\label{group__menu_g0a10fa44ca152a12091747e515b6a655}


Clears all cached menu data. This should be called any time broad changes might have been made to the router items or menu links. \hypertarget{group__menu_gc2cef001e8197fecd49924e6e0e251c6}{
\index{menu@{menu}!menu\_\-execute\_\-active\_\-handler@{menu\_\-execute\_\-active\_\-handler}}
\index{menu\_\-execute\_\-active\_\-handler@{menu\_\-execute\_\-active\_\-handler}!menu@{menu}}
\subsubsection[{menu\_\-execute\_\-active\_\-handler}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-execute\_\-active\_\-handler (\$ {\em path} = {\tt NULL})}}
\label{group__menu_gc2cef001e8197fecd49924e6e0e251c6}


Execute the page callback associated with the current path \hypertarget{group__menu_g009731c4b3e736ebb620ba90e7f04207}{
\index{menu@{menu}!menu\_\-get\_\-active\_\-breadcrumb@{menu\_\-get\_\-active\_\-breadcrumb}}
\index{menu\_\-get\_\-active\_\-breadcrumb@{menu\_\-get\_\-active\_\-breadcrumb}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-active\_\-breadcrumb}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-active\_\-breadcrumb ()}}
\label{group__menu_g009731c4b3e736ebb620ba90e7f04207}


Get the breadcrumb for the current page, as determined by the active trail. \hypertarget{group__menu_g21c6572391132f4e1f5b3fd108220bf4}{
\index{menu@{menu}!menu\_\-get\_\-active\_\-help@{menu\_\-get\_\-active\_\-help}}
\index{menu\_\-get\_\-active\_\-help@{menu\_\-get\_\-active\_\-help}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-active\_\-help}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-active\_\-help ()}}
\label{group__menu_g21c6572391132f4e1f5b3fd108220bf4}


Returns the help associated with the active menu item. \hypertarget{group__menu_g7f449034a05c47e985f5ce8ec31344e2}{
\index{menu@{menu}!menu\_\-get\_\-active\_\-menu\_\-name@{menu\_\-get\_\-active\_\-menu\_\-name}}
\index{menu\_\-get\_\-active\_\-menu\_\-name@{menu\_\-get\_\-active\_\-menu\_\-name}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-active\_\-menu\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-active\_\-menu\_\-name ()}}
\label{group__menu_g7f449034a05c47e985f5ce8ec31344e2}


Get the active menu for the current page - determines the active trail. \hypertarget{group__menu_gf0a358447097959e53ad1a20b8d811ed}{
\index{menu@{menu}!menu\_\-get\_\-active\_\-title@{menu\_\-get\_\-active\_\-title}}
\index{menu\_\-get\_\-active\_\-title@{menu\_\-get\_\-active\_\-title}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-active\_\-title}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-active\_\-title ()}}
\label{group__menu_gf0a358447097959e53ad1a20b8d811ed}


Get the title of the current page, as determined by the active trail. \hypertarget{group__menu_g55105d602c5c5ea5b39aae25aa47f8c5}{
\index{menu@{menu}!menu\_\-get\_\-active\_\-trail@{menu\_\-get\_\-active\_\-trail}}
\index{menu\_\-get\_\-active\_\-trail@{menu\_\-get\_\-active\_\-trail}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-active\_\-trail}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-active\_\-trail ()}}
\label{group__menu_g55105d602c5c5ea5b39aae25aa47f8c5}


Gets the active trail (path to root menu root) of the current page.

See \hyperlink{group__menu_g9328a9a4f297d8bb095d924e75a8abd7}{menu\_\-set\_\-active\_\-trail()} for details of return value. \hypertarget{group__menu_g24ddfa75da5f03482a2df2c9c8d1f711}{
\index{menu@{menu}!menu\_\-get\_\-ancestors@{menu\_\-get\_\-ancestors}}
\index{menu\_\-get\_\-ancestors@{menu\_\-get\_\-ancestors}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-ancestors}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-ancestors (\$ {\em parts})}}
\label{group__menu_g24ddfa75da5f03482a2df2c9c8d1f711}


End of \char`\"{}Menu tree parameters\char`\"{}. Returns the ancestors (and relevant placeholders) for any given path.

For example, the ancestors of node/12345/edit are:\begin{itemize}
\item node/12345/edit\item node/12345/\%\item node//edit\item node//\%\item node/12345\item node/\%\item node\end{itemize}


To generate these, we will use binary numbers. Each bit represents a part of the path. If the bit is 1, then it represents the original value while 0 means wildcard. If the path is node/12/edit/foo then the 1011 bitstring represents node//edit/foo where \% means that any argument matches that part. We limit ourselves to using binary numbers that correspond the patterns of wildcards of router items that actually exists. This list of 'masks' is built in \hyperlink{group__menu_gf36dcb9d5491ef5e7d2cf22c1f5c69f4}{menu\_\-rebuild()}.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$parts}]An array of path parts, for the above example array('node', '12345', 'edit'). \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]An array which contains the ancestors and placeholders. Placeholders simply contain as many 's' as the ancestors. \end{Desc}
\hypertarget{group__menu_g855b1ca6ef9e44eb6107a2b9d0f581df}{
\index{menu@{menu}!menu\_\-get\_\-item@{menu\_\-get\_\-item}}
\index{menu\_\-get\_\-item@{menu\_\-get\_\-item}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-item}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-item (\$ {\em path} = {\tt NULL}, \/  \$ {\em router\_\-item} = {\tt NULL})}}
\label{group__menu_g855b1ca6ef9e44eb6107a2b9d0f581df}


Get a router item.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$path}]The path, for example node/5. The function will find the corresponding node/\% item and return that. \item[{\em \$router\_\-item}]Internal use only. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The router item, an associate array corresponding to one row in the menu\_\-router table. The value of key map holds the loaded objects. The value of key access is TRUE if the current user can access this page. The values for key title, page\_\-arguments, access\_\-arguments will be filled in based on the database values and the objects loaded. \end{Desc}
\hypertarget{group__menu_gb537c9640c2d63c4c5208412987d7045}{
\index{menu@{menu}!menu\_\-get\_\-names@{menu\_\-get\_\-names}}
\index{menu\_\-get\_\-names@{menu\_\-get\_\-names}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-names}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-names (\$ {\em reset} = {\tt FALSE})}}
\label{group__menu_gb537c9640c2d63c4c5208412987d7045}


Build a list of named menus. \hypertarget{group__menu_g8b1c8825ae7b6ae31b50cadaa1f7c920}{
\index{menu@{menu}!menu\_\-get\_\-object@{menu\_\-get\_\-object}}
\index{menu\_\-get\_\-object@{menu\_\-get\_\-object}!menu@{menu}}
\subsubsection[{menu\_\-get\_\-object}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-get\_\-object (\$ {\em type} = {\tt 'node'}, \/  \$ {\em position} = {\tt 1}, \/  \$ {\em path} = {\tt NULL})}}
\label{group__menu_g8b1c8825ae7b6ae31b50cadaa1f7c920}


Get a loaded object from a router item.

\hyperlink{group__menu_g8b1c8825ae7b6ae31b50cadaa1f7c920}{menu\_\-get\_\-object()} will provide you the current node on paths like node/5, node/5/revisions/48 etc. menu\_\-get\_\-object('user') will give you the user account on user/5 etc. Note - this function should never be called within a \_\-to\_\-arg function (like user\_\-current\_\-to\_\-arg()) since this may result in an infinite recursion.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$type}]Type of the object. These appear in hook\_\-menu definitons as type. Core provides aggregator\_\-feed, aggregator\_\-category, contact, filter\_\-format, forum\_\-term, menu, menu\_\-link, node, taxonomy\_\-vocabulary, user. See the relevant \{\$type\}\_\-load function for more on each. Defaults to node. \item[{\em \$position}]The expected position for \$type object. For node/node this is 1, for comment/reply/node this is 2. Defaults to 1. \item[{\em \$path}]See \hyperlink{group__menu_g855b1ca6ef9e44eb6107a2b9d0f581df}{menu\_\-get\_\-item()} for more on this. Defaults to the current path. \end{description}
\end{Desc}
\hypertarget{group__menu_g75c0660b49841423d8d3c8908e9023fc}{
\index{menu@{menu}!menu\_\-link\_\-children\_\-relative\_\-depth@{menu\_\-link\_\-children\_\-relative\_\-depth}}
\index{menu\_\-link\_\-children\_\-relative\_\-depth@{menu\_\-link\_\-children\_\-relative\_\-depth}!menu@{menu}}
\subsubsection[{menu\_\-link\_\-children\_\-relative\_\-depth}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-link\_\-children\_\-relative\_\-depth (\$ {\em item})}}
\label{group__menu_g75c0660b49841423d8d3c8908e9023fc}


Find the depth of an item's children relative to its depth.

For example, if the item has a depth of 2, and the maximum of any child in the menu link tree is 5, the relative depth is 3.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$item}]An array representing a menu link item. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The relative depth, or zero. \end{Desc}
\hypertarget{group__menu_gcb2dddc8ca84476f38a90f4487156b12}{
\index{menu@{menu}!menu\_\-link\_\-delete@{menu\_\-link\_\-delete}}
\index{menu\_\-link\_\-delete@{menu\_\-link\_\-delete}!menu@{menu}}
\subsubsection[{menu\_\-link\_\-delete}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-link\_\-delete (\$ {\em mlid}, \/  \$ {\em path} = {\tt NULL})}}
\label{group__menu_gcb2dddc8ca84476f38a90f4487156b12}


Delete one or several menu links.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$mlid}]A valid menu link mlid or NULL. If NULL, \$path is used. \item[{\em \$path}]The path to the menu items to be deleted. \$mlid must be NULL. \end{description}
\end{Desc}
\hypertarget{group__menu_gc2b338fa3a449c826661aade7a7d486e}{
\index{menu@{menu}!menu\_\-link\_\-load@{menu\_\-link\_\-load}}
\index{menu\_\-link\_\-load@{menu\_\-link\_\-load}!menu@{menu}}
\subsubsection[{menu\_\-link\_\-load}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-link\_\-load (\$ {\em mlid})}}
\label{group__menu_gc2b338fa3a449c826661aade7a7d486e}


Get a menu link by its mlid, access checked and link translated for rendering.

This function should never be called from within node\_\-load() or any other function used as a menu object load function since an infinite recursion may occur.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$mlid}]The mlid of the menu item. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]A menu link, with \$item\mbox{[}'access'\mbox{]} filled and link translated for rendering. \end{Desc}
\hypertarget{group__menu_ge3248649fb437dedad940df74fb129dc}{
\index{menu@{menu}!menu\_\-link\_\-maintain@{menu\_\-link\_\-maintain}}
\index{menu\_\-link\_\-maintain@{menu\_\-link\_\-maintain}!menu@{menu}}
\subsubsection[{menu\_\-link\_\-maintain}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-link\_\-maintain (\$ {\em module}, \/  \$ {\em op}, \/  \$ {\em link\_\-path}, \/  \$ {\em link\_\-title})}}
\label{group__menu_ge3248649fb437dedad940df74fb129dc}


Insert, update or delete an uncustomized menu link related to a module.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$module}]The name of the module. \item[{\em \$op}]Operation to perform: insert, update or delete. \item[{\em \$link\_\-path}]The path this link points to. \item[{\em \$link\_\-title}]Title of the link to insert or new title to update the link to. Unused for delete. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The insert op returns the mlid of the new item. Others op return NULL. \end{Desc}
\hypertarget{group__menu_g4fe84fbe31b5a3b6c7fa43e8fe912fb0}{
\index{menu@{menu}!menu\_\-link\_\-save@{menu\_\-link\_\-save}}
\index{menu\_\-link\_\-save@{menu\_\-link\_\-save}!menu@{menu}}
\subsubsection[{menu\_\-link\_\-save}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-link\_\-save (\&\$ {\em item})}}
\label{group__menu_g4fe84fbe31b5a3b6c7fa43e8fe912fb0}


Save a menu link.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$item}]An array representing a menu link item. The only mandatory keys are link\_\-path and link\_\-title. Possible keys are:\begin{itemize}
\item menu\_\-name default is navigation\item weight default is 0\item expanded whether the item is expanded.\item options An array of options, \end{itemize}
\end{description}
\end{Desc}
\begin{Desc}
\item[See also:]\hyperlink{common_8inc_b1b47d5ab720066df684c335eda75cfd}{l} for more.\begin{itemize}
\item mlid Set to an existing value, or 0 or NULL to insert a new link.\item plid The mlid of the parent.\item router\_\-path The path of the relevant router item. \end{itemize}
\end{Desc}
\begin{Desc}
\item[Returns:]The mlid of the saved menu link, or FALSE if the menu link could not be saved. \end{Desc}
\hypertarget{group__menu_g28e765ff428a3f18978af564ee0147d6}{
\index{menu@{menu}!menu\_\-list\_\-system\_\-menus@{menu\_\-list\_\-system\_\-menus}}
\index{menu\_\-list\_\-system\_\-menus@{menu\_\-list\_\-system\_\-menus}!menu@{menu}}
\subsubsection[{menu\_\-list\_\-system\_\-menus}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-list\_\-system\_\-menus ()}}
\label{group__menu_g28e765ff428a3f18978af564ee0147d6}


Return an array containing the names of system-defined (default) menus. \hypertarget{group__menu_g6641ad95c6f964fbdc3f594d86696569}{
\index{menu@{menu}!menu\_\-local\_\-tasks@{menu\_\-local\_\-tasks}}
\index{menu\_\-local\_\-tasks@{menu\_\-local\_\-tasks}!menu@{menu}}
\subsubsection[{menu\_\-local\_\-tasks}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-local\_\-tasks (\$ {\em level} = {\tt 0}, \/  \$ {\em return\_\-root} = {\tt FALSE})}}
\label{group__menu_g6641ad95c6f964fbdc3f594d86696569}


Collects the local tasks (tabs) for a given level.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$level}]The level of tasks you ask for. Primary tasks are 0, secondary are 1. \item[{\em \$return\_\-root}]Whether to return the root path for the current page. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Themed output corresponding to the tabs of the requested level, or router path if \$return\_\-root == TRUE. This router path corresponds to a parent tab, if the current page is a default local task. \end{Desc}
\hypertarget{group__menu_gb4cdacc813ae9e06271aa4aa2d9495a7}{
\index{menu@{menu}!menu\_\-navigation\_\-links@{menu\_\-navigation\_\-links}}
\index{menu\_\-navigation\_\-links@{menu\_\-navigation\_\-links}!menu@{menu}}
\subsubsection[{menu\_\-navigation\_\-links}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-navigation\_\-links (\$ {\em menu\_\-name}, \/  \$ {\em level} = {\tt 0})}}
\label{group__menu_gb4cdacc813ae9e06271aa4aa2d9495a7}


Return an array of links for a navigation menu.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$menu\_\-name}]The name of the menu. \item[{\em \$level}]Optional, the depth of the menu to be returned. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]An array of links of the specified menu and level. \end{Desc}
\hypertarget{group__menu_gd025fe7dfd80513f2f7baaa66519c508}{
\index{menu@{menu}!menu\_\-path\_\-is\_\-external@{menu\_\-path\_\-is\_\-external}}
\index{menu\_\-path\_\-is\_\-external@{menu\_\-path\_\-is\_\-external}!menu@{menu}}
\subsubsection[{menu\_\-path\_\-is\_\-external}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-path\_\-is\_\-external (\$ {\em path})}}
\label{group__menu_gd025fe7dfd80513f2f7baaa66519c508}


Returns TRUE if a path is external (e.g. \href{http://example.com}{\tt http://example.com}). \hypertarget{group__menu_g472245ad15500b2f7b253f679afd90c7}{
\index{menu@{menu}!menu\_\-primary\_\-links@{menu\_\-primary\_\-links}}
\index{menu\_\-primary\_\-links@{menu\_\-primary\_\-links}!menu@{menu}}
\subsubsection[{menu\_\-primary\_\-links}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-primary\_\-links ()}}
\label{group__menu_g472245ad15500b2f7b253f679afd90c7}


Return an array of links to be rendered as the Primary links. \hypertarget{group__menu_g83613b83f90d6a12e2f4170ed0ede9b1}{
\index{menu@{menu}!menu\_\-primary\_\-local\_\-tasks@{menu\_\-primary\_\-local\_\-tasks}}
\index{menu\_\-primary\_\-local\_\-tasks@{menu\_\-primary\_\-local\_\-tasks}!menu@{menu}}
\subsubsection[{menu\_\-primary\_\-local\_\-tasks}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-primary\_\-local\_\-tasks ()}}
\label{group__menu_g83613b83f90d6a12e2f4170ed0ede9b1}


Returns the rendered local tasks at the top level. \hypertarget{group__menu_gf36dcb9d5491ef5e7d2cf22c1f5c69f4}{
\index{menu@{menu}!menu\_\-rebuild@{menu\_\-rebuild}}
\index{menu\_\-rebuild@{menu\_\-rebuild}!menu@{menu}}
\subsubsection[{menu\_\-rebuild}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-rebuild ()}}
\label{group__menu_gf36dcb9d5491ef5e7d2cf22c1f5c69f4}


(Re)populate the database tables used by various menu functions.

This function will clear and populate the \{menu\_\-router\} table, add entries to \{menu\_\-links\} for new router items, then remove stale items from \{menu\_\-links\}. If called from \hyperlink{update_8php}{update.php} or install.php, it will also schedule a call to itself on the first real page load from \hyperlink{group__menu_gc2cef001e8197fecd49924e6e0e251c6}{menu\_\-execute\_\-active\_\-handler()}, because the maintenance page environment is different and leaves stale data in the menu tables. \hypertarget{group__menu_ge6e2fcdb614d7988c160c22d563919ba}{
\index{menu@{menu}!menu\_\-router\_\-build@{menu\_\-router\_\-build}}
\index{menu\_\-router\_\-build@{menu\_\-router\_\-build}!menu@{menu}}
\subsubsection[{menu\_\-router\_\-build}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-router\_\-build (\$ {\em reset} = {\tt FALSE})}}
\label{group__menu_ge6e2fcdb614d7988c160c22d563919ba}


Collect, alter and store the menu definitions. \hypertarget{group__menu_gea7d8f0da28d4082b03e6cadf7af69bd}{
\index{menu@{menu}!menu\_\-secondary\_\-links@{menu\_\-secondary\_\-links}}
\index{menu\_\-secondary\_\-links@{menu\_\-secondary\_\-links}!menu@{menu}}
\subsubsection[{menu\_\-secondary\_\-links}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-secondary\_\-links ()}}
\label{group__menu_gea7d8f0da28d4082b03e6cadf7af69bd}


Return an array of links to be rendered as the Secondary links. \hypertarget{group__menu_gbf84c295da2c986cd8ad305935e31ffb}{
\index{menu@{menu}!menu\_\-secondary\_\-local\_\-tasks@{menu\_\-secondary\_\-local\_\-tasks}}
\index{menu\_\-secondary\_\-local\_\-tasks@{menu\_\-secondary\_\-local\_\-tasks}!menu@{menu}}
\subsubsection[{menu\_\-secondary\_\-local\_\-tasks}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-secondary\_\-local\_\-tasks ()}}
\label{group__menu_gbf84c295da2c986cd8ad305935e31ffb}


Returns the rendered local tasks at the second level. \hypertarget{group__menu_gcdd22102c2ba6545645ae34be563d1d4}{
\index{menu@{menu}!menu\_\-set\_\-active\_\-item@{menu\_\-set\_\-active\_\-item}}
\index{menu\_\-set\_\-active\_\-item@{menu\_\-set\_\-active\_\-item}!menu@{menu}}
\subsubsection[{menu\_\-set\_\-active\_\-item}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-set\_\-active\_\-item (\$ {\em path})}}
\label{group__menu_gcdd22102c2ba6545645ae34be563d1d4}


Set the active path, which determines which page is loaded.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$path}]A Drupal path - not a path alias.\end{description}
\end{Desc}
Note that this may not have the desired effect unless invoked very early in the page load, such as during hook\_\-boot, or unless you call \hyperlink{group__menu_gc2cef001e8197fecd49924e6e0e251c6}{menu\_\-execute\_\-active\_\-handler()} to generate your page output. \hypertarget{group__menu_g017400eafe570a87460d4e6a4a305407}{
\index{menu@{menu}!menu\_\-set\_\-active\_\-menu\_\-name@{menu\_\-set\_\-active\_\-menu\_\-name}}
\index{menu\_\-set\_\-active\_\-menu\_\-name@{menu\_\-set\_\-active\_\-menu\_\-name}!menu@{menu}}
\subsubsection[{menu\_\-set\_\-active\_\-menu\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-set\_\-active\_\-menu\_\-name (\$ {\em menu\_\-name} = {\tt NULL})}}
\label{group__menu_g017400eafe570a87460d4e6a4a305407}


Set (or get) the active menu for the current page - determines the active trail. \hypertarget{group__menu_g9328a9a4f297d8bb095d924e75a8abd7}{
\index{menu@{menu}!menu\_\-set\_\-active\_\-trail@{menu\_\-set\_\-active\_\-trail}}
\index{menu\_\-set\_\-active\_\-trail@{menu\_\-set\_\-active\_\-trail}!menu@{menu}}
\subsubsection[{menu\_\-set\_\-active\_\-trail}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-set\_\-active\_\-trail (\$ {\em new\_\-trail} = {\tt NULL})}}
\label{group__menu_g9328a9a4f297d8bb095d924e75a8abd7}


Sets or gets the active trail (path to root menu root) of the current page.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$new\_\-trail}]Menu trail to set, or NULL to use previously-set or calculated trail. If supplying a trail, use the same format as the return value (see below). \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Path to menu root of the current page, as an array of menu link items, starting with the site's home page. Each link item is an associative array with the following components:\begin{itemize}
\item 'title': Title of the item.\item 'href': Drupal path of the item.\item 'localized\_\-options': Options for passing into the \hyperlink{common_8inc_b1b47d5ab720066df684c335eda75cfd}{l()} function.\item 'type': A menu type constant, such as MENU\_\-DEFAULT\_\-LOCAL\_\-TASK, or 0 to indicate it's not really in the menu (used for the home page item). If \$new\_\-trail is supplied, the value is saved in a static variable and returned. If \$new\_\-trail is not supplied, and there is a saved value from a previous call, the saved value is returned. If \$new\_\-trail is not supplied and there is no saved value, the path to the current page is calculated, saved as the static value, and returned. \end{itemize}
\end{Desc}
\hypertarget{group__menu_g731543157fbe59176d20af2282df5f75}{
\index{menu@{menu}!menu\_\-set\_\-item@{menu\_\-set\_\-item}}
\index{menu\_\-set\_\-item@{menu\_\-set\_\-item}!menu@{menu}}
\subsubsection[{menu\_\-set\_\-item}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-set\_\-item (\$ {\em path}, \/  \$ {\em router\_\-item})}}
\label{group__menu_g731543157fbe59176d20af2282df5f75}


Replaces the statically cached item for a given path.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$path}]The path. \item[{\em \$router\_\-item}]The router item. Usually you take a router entry from menu\_\-get\_\-item and set it back either modified or to a different path. This lets you modify the navigation block, the page title, the breadcrumb and the page help in one call. \end{description}
\end{Desc}
\hypertarget{group__menu_gcf647362fc7151bbaa1dbe5568a0b6b5}{
\index{menu@{menu}!menu\_\-tab\_\-root\_\-path@{menu\_\-tab\_\-root\_\-path}}
\index{menu\_\-tab\_\-root\_\-path@{menu\_\-tab\_\-root\_\-path}!menu@{menu}}
\subsubsection[{menu\_\-tab\_\-root\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tab\_\-root\_\-path ()}}
\label{group__menu_gcf647362fc7151bbaa1dbe5568a0b6b5}


Returns the router path, or the path of the parent tab of a default local task. \hypertarget{group__menu_ga43c3a496679a1cc16d02d76d0422752}{
\index{menu@{menu}!menu\_\-tree@{menu\_\-tree}}
\index{menu\_\-tree@{menu\_\-tree}!menu@{menu}}
\subsubsection[{menu\_\-tree}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree (\$ {\em menu\_\-name} = {\tt 'navigation'})}}
\label{group__menu_ga43c3a496679a1cc16d02d76d0422752}


Render a menu tree based on the current path.

The tree is expanded based on the current path and dynamic paths are also changed according to the defined to\_\-arg functions (for example the 'My account' link is changed from user/\% to a link with the current user's uid).

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$menu\_\-name}]The name of the menu. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The rendered HTML of that menu on the current page. \end{Desc}
\hypertarget{group__menu_ga4b0957cc1027dae4f4093b1b884227d}{
\index{menu@{menu}!menu\_\-tree\_\-all\_\-data@{menu\_\-tree\_\-all\_\-data}}
\index{menu\_\-tree\_\-all\_\-data@{menu\_\-tree\_\-all\_\-data}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-all\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-all\_\-data (\$ {\em menu\_\-name} = {\tt 'navigation'}, \/  \$ {\em item} = {\tt NULL})}}
\label{group__menu_ga4b0957cc1027dae4f4093b1b884227d}


Get the data structure representing a named menu tree.

Since this can be the full tree including hidden items, the data returned may be used for generating an an admin interface or a select.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$menu\_\-name}]The named menu links to return \item[{\em \$item}]A fully loaded menu link, or NULL. If a link is supplied, only the path to root will be included in the returned tree- as if this link represented the current page in a visible menu. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]An tree of menu links in an array, in the order they should be rendered. \end{Desc}
\hypertarget{group__menu_g6374db210d96026fb70431def083a7a5}{
\index{menu@{menu}!menu\_\-tree\_\-check\_\-access@{menu\_\-tree\_\-check\_\-access}}
\index{menu\_\-tree\_\-check\_\-access@{menu\_\-tree\_\-check\_\-access}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-check\_\-access}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-check\_\-access (\&\$ {\em tree}, \/  \$ {\em node\_\-links} = {\tt array()})}}
\label{group__menu_g6374db210d96026fb70431def083a7a5}


Check access and perform other dynamic operations for each link in the tree.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$tree}]The menu tree you wish to operate on. \item[{\em \$node\_\-links}]A collection of node link references generated from \$tree by \hyperlink{group__menu_g0c9a63fbbdf8496828f1f80d37459475}{menu\_\-tree\_\-collect\_\-node\_\-links()}. \end{description}
\end{Desc}
\hypertarget{group__menu_g0c9a63fbbdf8496828f1f80d37459475}{
\index{menu@{menu}!menu\_\-tree\_\-collect\_\-node\_\-links@{menu\_\-tree\_\-collect\_\-node\_\-links}}
\index{menu\_\-tree\_\-collect\_\-node\_\-links@{menu\_\-tree\_\-collect\_\-node\_\-links}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-collect\_\-node\_\-links}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-collect\_\-node\_\-links (\&\$ {\em tree}, \/  \&\$ {\em node\_\-links})}}
\label{group__menu_g0c9a63fbbdf8496828f1f80d37459475}


Recursive helper function - collect node links.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$tree}]The menu tree you wish to collect node links from. \item[{\em \$node\_\-links}]An array in which to store the collected node links. \end{description}
\end{Desc}
\hypertarget{group__menu_gbf77de9e90a7f2c4f889a74cde1ee3e4}{
\index{menu@{menu}!menu\_\-tree\_\-data@{menu\_\-tree\_\-data}}
\index{menu\_\-tree\_\-data@{menu\_\-tree\_\-data}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-data (\$ {\em result} = {\tt NULL}, \/  \$ {\em parents} = {\tt array()}, \/  \$ {\em depth} = {\tt 1})}}
\label{group__menu_gbf77de9e90a7f2c4f889a74cde1ee3e4}


Build the data representing a menu tree.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$result}]The database result. \item[{\em \$parents}]An array of the plid values that represent the path from the current page to the root of the menu tree. \item[{\em \$depth}]The depth of the current menu tree. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]See menu\_\-tree\_\-page\_\-data for a description of the data structure. \end{Desc}
\hypertarget{group__menu_g2ef0691992a9df71eb3455ba774053e7}{
\index{menu@{menu}!menu\_\-tree\_\-output@{menu\_\-tree\_\-output}}
\index{menu\_\-tree\_\-output@{menu\_\-tree\_\-output}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-output}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-output (\$ {\em tree})}}
\label{group__menu_g2ef0691992a9df71eb3455ba774053e7}


Returns a rendered menu tree.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$tree}]A data structure representing the tree as returned from menu\_\-tree\_\-data. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The rendered HTML of that data structure. \end{Desc}
\hypertarget{group__menu_g84e2ecf44d5b72159370c74c910e93e3}{
\index{menu@{menu}!menu\_\-tree\_\-page\_\-data@{menu\_\-tree\_\-page\_\-data}}
\index{menu\_\-tree\_\-page\_\-data@{menu\_\-tree\_\-page\_\-data}!menu@{menu}}
\subsubsection[{menu\_\-tree\_\-page\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-tree\_\-page\_\-data (\$ {\em menu\_\-name} = {\tt 'navigation'})}}
\label{group__menu_g84e2ecf44d5b72159370c74c910e93e3}


Get the data structure representing a named menu tree, based on the current page.

The tree order is maintained by storing each parent in an individual field, see \href{http://drupal.org/node/141866}{\tt http://drupal.org/node/141866} for more.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$menu\_\-name}]The named menu links to return \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]An array of menu links, in the order they should be rendered. The array is a list of associative arrays -- these have two keys, link and below. link is a menu item, ready for theming as a link. Below represents the submenu below the link if there is one, and it is a subtree that has the same structure described for the top-level array. \end{Desc}
\hypertarget{group__menu_g3f9fe4d53dc9d9c3724f956f1465b5be}{
\index{menu@{menu}!menu\_\-unserialize@{menu\_\-unserialize}}
\index{menu\_\-unserialize@{menu\_\-unserialize}!menu@{menu}}
\subsubsection[{menu\_\-unserialize}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-unserialize (\$ {\em data}, \/  \$ {\em map})}}
\label{group__menu_g3f9fe4d53dc9d9c3724f956f1465b5be}


The menu system uses serialized arrays stored in the database for arguments. However, often these need to change according to the current path. This function unserializes such an array and does the necessary change.

Integer values are mapped according to the \$map parameter. For example, if unserialize(\$data) is array('view', 1) and \$map is array('node', '12345') then 'view' will not be changed because it is not an integer, but 1 will as it is an integer. As \$map\mbox{[}1\mbox{]} is '12345', 1 will be replaced with '12345'. So the result will be array('node\_\-load', '12345').

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em @data}]A serialized array. \item[{\em @map}]An array of potential replacements. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The \$data array unserialized and mapped. \end{Desc}
\hypertarget{group__menu_g69ff205e60d5766a074c254060e07456}{
\index{menu@{menu}!menu\_\-valid\_\-path@{menu\_\-valid\_\-path}}
\index{menu\_\-valid\_\-path@{menu\_\-valid\_\-path}!menu@{menu}}
\subsubsection[{menu\_\-valid\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}menu\_\-valid\_\-path (\$ {\em form\_\-item})}}
\label{group__menu_g69ff205e60d5766a074c254060e07456}


Validates the path of a menu link being created or edited.

\begin{Desc}
\item[Returns:]TRUE if it is a valid path AND the current user has access permission, FALSE otherwise. \end{Desc}
