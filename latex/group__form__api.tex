\hypertarget{group__form__api}{
\section{Form generation}
\label{group__form__api}\index{Form generation@{Form generation}}
}
\subsection*{Functions}
\begin{CompactItemize}
\item 
\hyperlink{group__form__api_g720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form} (\$form\_\-id)
\item 
\hyperlink{group__form__api_g31c0f01e4157f02cc01a0c5d12d60b09}{drupal\_\-rebuild\_\-form} (\$form\_\-id, \&\$form\_\-state, \$args, \$form\_\-build\_\-id=NULL)
\item 
\hyperlink{group__form__api_g274fe9a7fe000a43b7f173e3b54dae7f}{form\_\-set\_\-cache} (\$form\_\-build\_\-id, \$form, \$form\_\-state)
\item 
\hyperlink{group__form__api_gb1da3001a3773a949188b52f61a9cd09}{form\_\-get\_\-cache} (\$form\_\-build\_\-id, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_g06dfc84042a094ae6b40bc1840ccced8}{drupal\_\-execute} (\$form\_\-id, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_g82f16e1c86833aa88bf93adf93bae9bb}{drupal\_\-retrieve\_\-form} (\$form\_\-id, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_g61186f5c43533761544a778918818fd2}{drupal\_\-process\_\-form} (\$form\_\-id, \&\$form, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_g79309515217249c16c7e4a7117141120}{drupal\_\-prepare\_\-form} (\$form\_\-id, \&\$form, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_gc650d688c949f726c59ab59e2d526ef8}{drupal\_\-validate\_\-form} (\$form\_\-id, \$form, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_gdd3fcf38a3d6fdcd11c58a6a48b4bd37}{drupal\_\-render\_\-form} (\$form\_\-id, \&\$form)
\item 
\hyperlink{group__form__api_gd2d616d098fbfd438466abe52136d660}{drupal\_\-redirect\_\-form} (\$form, \$redirect=NULL)
\item 
\hyperlink{group__form__api_g34ca9a4baf78b6f550e792893c4dfda9}{\_\-form\_\-validate} (\$elements, \&\$form\_\-state, \$form\_\-id=NULL)
\item 
\hyperlink{group__form__api_g9e32d49f4ca85da10a29dcfec27dd526}{form\_\-execute\_\-handlers} (\$type, \&\$form, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_g08508e9a72925348973bb1a051a3ab99}{form\_\-set\_\-error} (\$name=NULL, \$message= '', \$reset=FALSE)
\item 
\hyperlink{group__form__api_g158b3db5e88e96bf060c524cebcb8130}{form\_\-get\_\-errors} ()
\item 
\hyperlink{group__form__api_ge57581ad2406d61116a133b99142283b}{form\_\-get\_\-error} (\$element)
\item 
\hyperlink{group__form__api_g0e6b470194005ad3ff2fbf45f671dfa9}{form\_\-error} (\&\$element, \$message= '')
\item 
\hyperlink{group__form__api_g52d4df482bbb0b49c23061cd715adf63}{form\_\-builder} (\$form\_\-id, \$form, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_g609a63c66be83c0956899b3cfc665ff6}{\_\-form\_\-builder\_\-handle\_\-input\_\-element} (\$form\_\-id, \&\$form, \&\$form\_\-state, \$complete\_\-form)
\item 
\hyperlink{group__form__api_gd06129cdf0a951e8cce6d126d84acd32}{\_\-form\_\-button\_\-was\_\-clicked} (\$form)
\item 
\hyperlink{group__form__api_g7d997b259e62894fbfd69e9c4efcab99}{\_\-form\_\-builder\_\-ie\_\-cleanup} (\$form, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga031aa7b832710f2a21d3b2351ed0fc6}{form\_\-type\_\-image\_\-button\_\-value} (\$form, \$edit=FALSE)
\item 
\hyperlink{group__form__api_gfe73ec471140a71b1d3f2810b4363592}{form\_\-type\_\-checkbox\_\-value} (\$form, \$edit=FALSE)
\item 
\hyperlink{group__form__api_g01c5405a174f6854caa1487451783ff1}{form\_\-type\_\-checkboxes\_\-value} (\$form, \$edit=FALSE)
\item 
\hyperlink{group__form__api_gf3479512bae1569cf68059608ecfe29d}{form\_\-type\_\-password\_\-confirm\_\-value} (\$form, \$edit=FALSE)
\item 
\hyperlink{group__form__api_g0b794da7fc875fa20913a98532a826d3}{form\_\-type\_\-select\_\-value} (\$form, \$edit=FALSE)
\item 
\hyperlink{group__form__api_g55b3eea2f5223cb98dbcdd83cc62e432}{form\_\-type\_\-textfield\_\-value} (\$form, \$edit=FALSE)
\item 
\hyperlink{group__form__api_g1bde00e0188d845783f528279775f80e}{form\_\-type\_\-token\_\-value} (\$form, \$edit=FALSE)
\item 
\hyperlink{group__form__api_ga7635bbcb1cb510fcc0cdc265e9ddea7}{form\_\-set\_\-value} (\$form\_\-item, \$value, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_gc11df4fae902c9f1d9f5aefd1ddb9a13}{\_\-form\_\-set\_\-value} (\&\$form\_\-values, \$form\_\-item, \$parents, \$value)
\item 
\hyperlink{group__form__api_gf7ae46c60bcbf2300522efa0d910f20c}{\_\-element\_\-info} (\$type, \$refresh=NULL)
\item 
\hypertarget{group__form__api_g10d2c1eda483ddf183cde64cff5a99f6}{
\textbf{form\_\-options\_\-flatten} (\$array, \$reset=TRUE)}
\label{group__form__api_g10d2c1eda483ddf183cde64cff5a99f6}

\item 
\hypertarget{group__form__api_g018022f493d295538cb6d8d312dab866}{
\textbf{form\_\-select\_\-options} (\$element, \$choices=NULL)}
\label{group__form__api_g018022f493d295538cb6d8d312dab866}

\item 
\hyperlink{group__form__api_g88bf27e1f6246789acc77dd1686e0276}{form\_\-get\_\-options} (\$element, \$key)
\item 
\hyperlink{group__form__api_gec5db42527669f2e0a0ea5f0a4d52bfa}{expand\_\-password\_\-confirm} (\$element)
\item 
\hyperlink{group__form__api_g18b2539d3eb96b30b90f73088051960e}{password\_\-confirm\_\-validate} (\$form, \&\$form\_\-state)
\item 
\hyperlink{group__form__api_ga0f7a426d54cdfcd03bf0e8f9ecbd36a}{expand\_\-date} (\$element)
\item 
\hyperlink{group__form__api_g2030fcf127a9d122a03f4844a97e8edb}{date\_\-validate} (\$form)
\item 
\hyperlink{group__form__api_g11e3cb67c8622b662acc4dff61e146a7}{map\_\-month} (\$month)
\item 
\hyperlink{group__form__api_gd80eba4897b841808cb71e6ba97603b2}{weight\_\-value} (\&\$form)
\item 
\hyperlink{group__form__api_gf7c1d7c703a78e2f7d91e0ab0a11674d}{expand\_\-radios} (\$element)
\item 
\hyperlink{group__form__api_g0632ccaef8acafed177d8bc993ab9a47}{form\_\-expand\_\-ahah} (\$element)
\item 
\hypertarget{group__form__api_ga0c3416280b2c987132d415b5e455956}{
\textbf{expand\_\-checkboxes} (\$element)}
\label{group__form__api_ga0c3416280b2c987132d415b5e455956}

\item 
\hyperlink{group__form__api_gf45ceae18e7f0206568fd7985bcfee4d}{process\_\-weight} (\$element)
\item 
\hyperlink{group__form__api_gc8800bdf25db7c100ccf2fd0dcbb25f0}{\_\-form\_\-set\_\-class} (\&\$element, \$class=array())
\item 
\hyperlink{group__form__api_gf71edb864be3bf0e932a96f1464c63bf}{form\_\-clean\_\-id} (\$id=NULL, \$flush=FALSE)
\end{CompactItemize}


\subsection{Detailed Description}
Functions to enable the processing and display of HTML forms.

Drupal uses these functions to achieve consistency in its form processing and presentation, while simplifying code and reducing the amount of HTML that must be explicitly generated by modules.

The \hyperlink{group__form__api_g720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form()} function handles retrieving, processing, and displaying a rendered HTML form for modules automatically. For example:



\begin{Code}\begin{verbatim} // Display the user registration form.
 $output = drupal_get_form('user_register');
\end{verbatim}
\end{Code}



Forms can also be built and submitted programmatically without any user input using the \hyperlink{group__form__api_g06dfc84042a094ae6b40bc1840ccced8}{drupal\_\-execute()} function.

For information on the format of the structured arrays used to define forms, and more detailed explanations of the Form API workflow, see the \hyperlink{}{reference } and the \hyperlink{}{quickstart guide. } 

\subsection{Function Documentation}
\hypertarget{group__form__api_gf7ae46c60bcbf2300522efa0d910f20c}{
\index{form\_\-api@{form\_\-api}!\_\-element\_\-info@{\_\-element\_\-info}}
\index{\_\-element\_\-info@{\_\-element\_\-info}!form_api@{form\_\-api}}
\subsubsection[{\_\-element\_\-info}]{\setlength{\rightskip}{0pt plus 5cm}\_\-element\_\-info (\$ {\em type}, \/  \$ {\em refresh} = {\tt NULL})}}
\label{group__form__api_gf7ae46c60bcbf2300522efa0d910f20c}


Retrieve the default properties for the defined element type. \hypertarget{group__form__api_g609a63c66be83c0956899b3cfc665ff6}{
\index{form\_\-api@{form\_\-api}!\_\-form\_\-builder\_\-handle\_\-input\_\-element@{\_\-form\_\-builder\_\-handle\_\-input\_\-element}}
\index{\_\-form\_\-builder\_\-handle\_\-input\_\-element@{\_\-form\_\-builder\_\-handle\_\-input\_\-element}!form_api@{form\_\-api}}
\subsubsection[{\_\-form\_\-builder\_\-handle\_\-input\_\-element}]{\setlength{\rightskip}{0pt plus 5cm}\_\-form\_\-builder\_\-handle\_\-input\_\-element (\$ {\em form\_\-id}, \/  \&\$ {\em form}, \/  \&\$ {\em form\_\-state}, \/  \$ {\em complete\_\-form})}}
\label{group__form__api_g609a63c66be83c0956899b3cfc665ff6}


Populate the value and name properties of input elements so they can be processed and rendered. Also, execute any process handlers attached to a specific element. \hypertarget{group__form__api_g7d997b259e62894fbfd69e9c4efcab99}{
\index{form\_\-api@{form\_\-api}!\_\-form\_\-builder\_\-ie\_\-cleanup@{\_\-form\_\-builder\_\-ie\_\-cleanup}}
\index{\_\-form\_\-builder\_\-ie\_\-cleanup@{\_\-form\_\-builder\_\-ie\_\-cleanup}!form_api@{form\_\-api}}
\subsubsection[{\_\-form\_\-builder\_\-ie\_\-cleanup}]{\setlength{\rightskip}{0pt plus 5cm}\_\-form\_\-builder\_\-ie\_\-cleanup (\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_g7d997b259e62894fbfd69e9c4efcab99}


In IE, if only one submit button is present, AND the enter key is used to submit the form, no form value is sent for it and our normal button detection code will never detect a match. We call this function after all other button-detection is complete to check for the proper conditions, and treat the single button on the form as 'clicked' if they are met. \hypertarget{group__form__api_gd06129cdf0a951e8cce6d126d84acd32}{
\index{form\_\-api@{form\_\-api}!\_\-form\_\-button\_\-was\_\-clicked@{\_\-form\_\-button\_\-was\_\-clicked}}
\index{\_\-form\_\-button\_\-was\_\-clicked@{\_\-form\_\-button\_\-was\_\-clicked}!form_api@{form\_\-api}}
\subsubsection[{\_\-form\_\-button\_\-was\_\-clicked}]{\setlength{\rightskip}{0pt plus 5cm}\_\-form\_\-button\_\-was\_\-clicked (\$ {\em form})}}
\label{group__form__api_gd06129cdf0a951e8cce6d126d84acd32}


Helper function to handle the sometimes-convoluted logic of button click detection.

In Internet Explorer, if ONLY one submit button is present, AND the enter key is used to submit the form, no form value is sent for it and we'll never detect a match. That special case is handled by \hyperlink{group__form__api_g7d997b259e62894fbfd69e9c4efcab99}{\_\-form\_\-builder\_\-ie\_\-cleanup()}. \hypertarget{group__form__api_gc8800bdf25db7c100ccf2fd0dcbb25f0}{
\index{form\_\-api@{form\_\-api}!\_\-form\_\-set\_\-class@{\_\-form\_\-set\_\-class}}
\index{\_\-form\_\-set\_\-class@{\_\-form\_\-set\_\-class}!form_api@{form\_\-api}}
\subsubsection[{\_\-form\_\-set\_\-class}]{\setlength{\rightskip}{0pt plus 5cm}\_\-form\_\-set\_\-class (\&\$ {\em element}, \/  \$ {\em class} = {\tt array()})}}
\label{group__form__api_gc8800bdf25db7c100ccf2fd0dcbb25f0}


Sets a form element's class attribute.

Adds 'required' and 'error' classes as needed.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \&\$element}]The form element. \item[{\em \$name}]Array of new class names to be added. \end{description}
\end{Desc}
\hypertarget{group__form__api_gc11df4fae902c9f1d9f5aefd1ddb9a13}{
\index{form\_\-api@{form\_\-api}!\_\-form\_\-set\_\-value@{\_\-form\_\-set\_\-value}}
\index{\_\-form\_\-set\_\-value@{\_\-form\_\-set\_\-value}!form_api@{form\_\-api}}
\subsubsection[{\_\-form\_\-set\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}\_\-form\_\-set\_\-value (\&\$ {\em form\_\-values}, \/  \$ {\em form\_\-item}, \/  \$ {\em parents}, \/  \$ {\em value})}}
\label{group__form__api_gc11df4fae902c9f1d9f5aefd1ddb9a13}


Helper function for \hyperlink{group__form__api_ga7635bbcb1cb510fcc0cdc265e9ddea7}{form\_\-set\_\-value()}.

We iterate over \$parents and create nested arrays for them in \$form\_\-state\mbox{[}'values'\mbox{]} if needed. Then we insert the value into the right array. \hypertarget{group__form__api_g34ca9a4baf78b6f550e792893c4dfda9}{
\index{form\_\-api@{form\_\-api}!\_\-form\_\-validate@{\_\-form\_\-validate}}
\index{\_\-form\_\-validate@{\_\-form\_\-validate}!form_api@{form\_\-api}}
\subsubsection[{\_\-form\_\-validate}]{\setlength{\rightskip}{0pt plus 5cm}\_\-form\_\-validate (\$ {\em elements}, \/  \&\$ {\em form\_\-state}, \/  \$ {\em form\_\-id} = {\tt NULL})}}
\label{group__form__api_g34ca9a4baf78b6f550e792893c4dfda9}


Performs validation on form elements. First ensures required fields are completed, maxlength is not exceeded, and selected options were in the list of options given to the user. Then calls user-defined validators.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$elements}]An associative array containing the structure of the form. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. The current user-submitted data is stored in \$form\_\-state\mbox{[}'values'\mbox{]}, though form validation functions are passed an explicit copy of the values for the sake of simplicity. Validation handlers can also \$form\_\-state to pass information on to submit handlers. For example: \$form\_\-state\mbox{[}'data\_\-for\_\-submision'\mbox{]} = \$data; This technique is useful when validation requires file parsing, web service requests, or other expensive requests that should not be repeated in the submission step. \item[{\em \$form\_\-id}]A unique string identifying the form for validation, submission, theming, and hook\_\-form\_\-alter functions. \end{description}
\end{Desc}
\hypertarget{group__form__api_g2030fcf127a9d122a03f4844a97e8edb}{
\index{form\_\-api@{form\_\-api}!date\_\-validate@{date\_\-validate}}
\index{date\_\-validate@{date\_\-validate}!form_api@{form\_\-api}}
\subsubsection[{date\_\-validate}]{\setlength{\rightskip}{0pt plus 5cm}date\_\-validate (\$ {\em form})}}
\label{group__form__api_g2030fcf127a9d122a03f4844a97e8edb}


Validates the date type to stop dates like February 30, 2006. \hypertarget{group__form__api_g06dfc84042a094ae6b40bc1840ccced8}{
\index{form\_\-api@{form\_\-api}!drupal\_\-execute@{drupal\_\-execute}}
\index{drupal\_\-execute@{drupal\_\-execute}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-execute}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-execute (\$ {\em form\_\-id}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_g06dfc84042a094ae6b40bc1840ccced8}


Retrieves, populates, and processes a form.

This function allows you to supply values for form elements and submit a form for processing. Compare to \hyperlink{group__form__api_g720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form()}, which also builds and processes a form, but does not allow you to supply values.

There is no return value, but you can check to see if there are errors by calling \hyperlink{group__form__api_g158b3db5e88e96bf060c524cebcb8130}{form\_\-get\_\-errors()}.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form\_\-id}]The unique string identifying the desired form. If a function with that name exists, it is called to build the form array. Modules that need to generate the same form (or very similar forms) using different \$form\_\-ids can implement hook\_\-forms(), which maps different \$form\_\-id values to the proper form constructor function. Examples may be found in node\_\-forms(), search\_\-forms(), and user\_\-forms(). \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. Most important is the \$form\_\-state\mbox{[}'values'\mbox{]} collection, a tree of data used to simulate the incoming \$\_\-POST information from a user's form submission. \item[{\em ...}]Any additional arguments are passed on to the functions called by \hyperlink{group__form__api_g06dfc84042a094ae6b40bc1840ccced8}{drupal\_\-execute()}, including the unique form constructor function. For example, the node\_\-edit form requires that a node object be passed in here when it is called. For example: 

\begin{Code}\begin{verbatim} // register a new user
 $form_state = array();
 $form_state['values']['name'] = 'robo-user';
 $form_state['values']['mail'] = 'robouser@example.com';
 $form_state['values']['pass']['pass1'] = 'password';
 $form_state['values']['pass']['pass2'] = 'password';
 $form_state['values']['op'] = t('Create new account');
 drupal_execute('user_register', $form_state);

 // Create a new node
 $form_state = array();
 module_load_include('inc', 'node', 'node.pages');
 $node = array('type' => 'story');
 $form_state['values']['title'] = 'My node';
 $form_state['values']['body'] = 'This is the body text!';
 $form_state['values']['name'] = 'robo-user';
 $form_state['values']['op'] = t('Save');
 drupal_execute('story_node_form', $form_state, (object)$node);
\end{verbatim}
\end{Code}

 \end{description}
\end{Desc}
\hypertarget{group__form__api_g720df81a837b06dfe19daf1c1eea3437}{
\index{form\_\-api@{form\_\-api}!drupal\_\-get\_\-form@{drupal\_\-get\_\-form}}
\index{drupal\_\-get\_\-form@{drupal\_\-get\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-get\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-get\_\-form (\$ {\em form\_\-id})}}
\label{group__form__api_g720df81a837b06dfe19daf1c1eea3437}


Retrieves a form from a constructor function, or from the cache if the form was built in a previous page-load. The form is then passed on for processing, after and rendered for display if necessary.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form\_\-id}]The unique string identifying the desired form. If a function with that name exists, it is called to build the form array. Modules that need to generate the same form (or very similar forms) using different \$form\_\-ids can implement hook\_\-forms(), which maps different \$form\_\-id values to the proper form constructor function. Examples may be found in node\_\-forms(), search\_\-forms(), and user\_\-forms(). \item[{\em ...}]Any additional arguments are passed on to the functions called by \hyperlink{group__form__api_g720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form()}, including the unique form constructor function. For example, the node\_\-edit form requires that a node object be passed in here when it is called. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The rendered form. \end{Desc}
\hypertarget{group__form__api_g79309515217249c16c7e4a7117141120}{
\index{form\_\-api@{form\_\-api}!drupal\_\-prepare\_\-form@{drupal\_\-prepare\_\-form}}
\index{drupal\_\-prepare\_\-form@{drupal\_\-prepare\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-prepare\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-prepare\_\-form (\$ {\em form\_\-id}, \/  \&\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_g79309515217249c16c7e4a7117141120}


Prepares a structured form array by adding required elements, executing any hook\_\-form\_\-alter functions, and optionally inserting a validation token to prevent tampering.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form\_\-id}]A unique string identifying the form for validation, submission, theming, and hook\_\-form\_\-alter functions. \item[{\em \$form}]An associative array containing the structure of the form. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. Passed in here so that hook\_\-form\_\-alter() calls can use it, as well. \end{description}
\end{Desc}
\hypertarget{group__form__api_g61186f5c43533761544a778918818fd2}{
\index{form\_\-api@{form\_\-api}!drupal\_\-process\_\-form@{drupal\_\-process\_\-form}}
\index{drupal\_\-process\_\-form@{drupal\_\-process\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-process\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-process\_\-form (\$ {\em form\_\-id}, \/  \&\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_g61186f5c43533761544a778918818fd2}


This function is the heart of form API. The form gets built, validated and in appropriate cases, submitted.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form\_\-id}]The unique string identifying the current form. \item[{\em \$form}]An associative array containing the structure of the form. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. This includes the current persistent storage data for the form, and any data passed along by earlier steps when displaying a multi-step form. Additional information, like the sanitized \$\_\-POST data, is also accumulated here. \end{description}
\end{Desc}
\hypertarget{group__form__api_g31c0f01e4157f02cc01a0c5d12d60b09}{
\index{form\_\-api@{form\_\-api}!drupal\_\-rebuild\_\-form@{drupal\_\-rebuild\_\-form}}
\index{drupal\_\-rebuild\_\-form@{drupal\_\-rebuild\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-rebuild\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-rebuild\_\-form (\$ {\em form\_\-id}, \/  \&\$ {\em form\_\-state}, \/  \$ {\em args}, \/  \$ {\em form\_\-build\_\-id} = {\tt NULL})}}
\label{group__form__api_g31c0f01e4157f02cc01a0c5d12d60b09}


Retrieves a form, caches it and processes it with an empty \$\_\-POST.

This function clears \$\_\-POST and passes the empty \$\_\-POST to the form\_\-builder. To preserve some parts from \$\_\-POST, pass them in \$form\_\-state.

If your AHAH callback simulates the pressing of a button, then your AHAH callback will need to do the same as what drupal\_\-get\_\-form would do when the button is pressed: get the form from the cache, run drupal\_\-process\_\-form over it and then if it needs rebuild, run drupal\_\-rebuild\_\-form over it. Then send back a part of the returned form. \$form\_\-state\mbox{[}'clicked\_\-button'\mbox{]}\mbox{[}'array\_\-parents'\mbox{]} will help you to find which part.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form\_\-id}]The unique string identifying the desired form. If a function with that name exists, it is called to build the form array. Modules that need to generate the same form (or very similar forms) using different \$form\_\-ids can implement hook\_\-forms(), which maps different \$form\_\-id values to the proper form constructor function. Examples may be found in node\_\-forms(), search\_\-forms(), and user\_\-forms(). \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. Most important is the \$form\_\-state\mbox{[}'storage'\mbox{]} collection. \item[{\em \$args}]Any additional arguments are passed on to the functions called by \hyperlink{group__form__api_g720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form()}, plus the original form\_\-state in the beginning. If you are getting a form from the cache, use \$form\mbox{[}'parameters'\mbox{]} to shift off the \$form\_\-id from its beginning then the resulting array can be used as \$arg here. \item[{\em \$form\_\-build\_\-id}]If the AHAH callback calling this function only alters part of the form, then pass in the existing form\_\-build\_\-id so we can re-cache with the same csid. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The newly built form. \end{Desc}
\hypertarget{group__form__api_gd2d616d098fbfd438466abe52136d660}{
\index{form\_\-api@{form\_\-api}!drupal\_\-redirect\_\-form@{drupal\_\-redirect\_\-form}}
\index{drupal\_\-redirect\_\-form@{drupal\_\-redirect\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-redirect\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-redirect\_\-form (\$ {\em form}, \/  \$ {\em redirect} = {\tt NULL})}}
\label{group__form__api_gd2d616d098fbfd438466abe52136d660}


Redirect the user to a URL after a form has been processed.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form}]An associative array containing the structure of the form. \item[{\em \$redirect}]An optional value containing the destination path to redirect to if none is specified by the form. \end{description}
\end{Desc}
\hypertarget{group__form__api_gdd3fcf38a3d6fdcd11c58a6a48b4bd37}{
\index{form\_\-api@{form\_\-api}!drupal\_\-render\_\-form@{drupal\_\-render\_\-form}}
\index{drupal\_\-render\_\-form@{drupal\_\-render\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-render\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-render\_\-form (\$ {\em form\_\-id}, \/  \&\$ {\em form})}}
\label{group__form__api_gdd3fcf38a3d6fdcd11c58a6a48b4bd37}


Renders a structured form array into themed HTML.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form\_\-id}]A unique string identifying the form for validation, submission, theming, and hook\_\-form\_\-alter functions. \item[{\em \$form}]An associative array containing the structure of the form. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]A string containing the themed HTML. \end{Desc}
\hypertarget{group__form__api_g82f16e1c86833aa88bf93adf93bae9bb}{
\index{form\_\-api@{form\_\-api}!drupal\_\-retrieve\_\-form@{drupal\_\-retrieve\_\-form}}
\index{drupal\_\-retrieve\_\-form@{drupal\_\-retrieve\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-retrieve\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-retrieve\_\-form (\$ {\em form\_\-id}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_g82f16e1c86833aa88bf93adf93bae9bb}


Retrieves the structured array that defines a given form.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form\_\-id}]The unique string identifying the desired form. If a function with that name exists, it is called to build the form array. Modules that need to generate the same form (or very similar forms) using different \$form\_\-ids can implement hook\_\-forms(), which maps different \$form\_\-id values to the proper form constructor function. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. \item[{\em ...}]Any additional arguments needed by the unique form constructor function. Generally, these are any arguments passed into the \hyperlink{group__form__api_g720df81a837b06dfe19daf1c1eea3437}{drupal\_\-get\_\-form()} or \hyperlink{group__form__api_g06dfc84042a094ae6b40bc1840ccced8}{drupal\_\-execute()} functions after the first argument. If a module implements hook\_\-forms(), it can examine these additional arguments and conditionally return different builder functions as well. \end{description}
\end{Desc}
\hypertarget{group__form__api_gc650d688c949f726c59ab59e2d526ef8}{
\index{form\_\-api@{form\_\-api}!drupal\_\-validate\_\-form@{drupal\_\-validate\_\-form}}
\index{drupal\_\-validate\_\-form@{drupal\_\-validate\_\-form}!form_api@{form\_\-api}}
\subsubsection[{drupal\_\-validate\_\-form}]{\setlength{\rightskip}{0pt plus 5cm}drupal\_\-validate\_\-form (\$ {\em form\_\-id}, \/  \$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_gc650d688c949f726c59ab59e2d526ef8}


Validates user-submitted form data from the \$form\_\-state using the validate functions defined in a structured form array.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form\_\-id}]A unique string identifying the form for validation, submission, theming, and hook\_\-form\_\-alter functions. \item[{\em \$form}]An associative array containing the structure of the form. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. The current user-submitted data is stored in \$form\_\-state\mbox{[}'values'\mbox{]}, though form validation functions are passed an explicit copy of the values for the sake of simplicity. Validation handlers can also \$form\_\-state to pass information on to submit handlers. For example: \$form\_\-state\mbox{[}'data\_\-for\_\-submision'\mbox{]} = \$data; This technique is useful when validation requires file parsing, web service requests, or other expensive requests that should not be repeated in the submission step. \end{description}
\end{Desc}
\hypertarget{group__form__api_ga0f7a426d54cdfcd03bf0e8f9ecbd36a}{
\index{form\_\-api@{form\_\-api}!expand\_\-date@{expand\_\-date}}
\index{expand\_\-date@{expand\_\-date}!form_api@{form\_\-api}}
\subsubsection[{expand\_\-date}]{\setlength{\rightskip}{0pt plus 5cm}expand\_\-date (\$ {\em element})}}
\label{group__form__api_ga0f7a426d54cdfcd03bf0e8f9ecbd36a}


Roll out a single date element. \hypertarget{group__form__api_gec5db42527669f2e0a0ea5f0a4d52bfa}{
\index{form\_\-api@{form\_\-api}!expand\_\-password\_\-confirm@{expand\_\-password\_\-confirm}}
\index{expand\_\-password\_\-confirm@{expand\_\-password\_\-confirm}!form_api@{form\_\-api}}
\subsubsection[{expand\_\-password\_\-confirm}]{\setlength{\rightskip}{0pt plus 5cm}expand\_\-password\_\-confirm (\$ {\em element})}}
\label{group__form__api_gec5db42527669f2e0a0ea5f0a4d52bfa}


Expand a password\_\-confirm field into two text boxes. \hypertarget{group__form__api_gf7c1d7c703a78e2f7d91e0ab0a11674d}{
\index{form\_\-api@{form\_\-api}!expand\_\-radios@{expand\_\-radios}}
\index{expand\_\-radios@{expand\_\-radios}!form_api@{form\_\-api}}
\subsubsection[{expand\_\-radios}]{\setlength{\rightskip}{0pt plus 5cm}expand\_\-radios (\$ {\em element})}}
\label{group__form__api_gf7c1d7c703a78e2f7d91e0ab0a11674d}


Roll out a single radios element to a list of radios, using the options array as index. \hypertarget{group__form__api_g52d4df482bbb0b49c23061cd715adf63}{
\index{form\_\-api@{form\_\-api}!form\_\-builder@{form\_\-builder}}
\index{form\_\-builder@{form\_\-builder}!form_api@{form\_\-api}}
\subsubsection[{form\_\-builder}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-builder (\$ {\em form\_\-id}, \/  \$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_g52d4df482bbb0b49c23061cd715adf63}


Walk through the structured form array, adding any required properties to each element and mapping the incoming \$\_\-POST data to the proper elements.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form\_\-id}]A unique string identifying the form for validation, submission, theming, and hook\_\-form\_\-alter functions. \item[{\em \$form}]An associative array containing the structure of the form. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. In this context, it is used to accumulate information about which button was clicked when the form was submitted, as well as the sanitized \$\_\-POST data. \end{description}
\end{Desc}
\hypertarget{group__form__api_gf71edb864be3bf0e932a96f1464c63bf}{
\index{form\_\-api@{form\_\-api}!form\_\-clean\_\-id@{form\_\-clean\_\-id}}
\index{form\_\-clean\_\-id@{form\_\-clean\_\-id}!form_api@{form\_\-api}}
\subsubsection[{form\_\-clean\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-clean\_\-id (\$ {\em id} = {\tt NULL}, \/  \$ {\em flush} = {\tt FALSE})}}
\label{group__form__api_gf71edb864be3bf0e932a96f1464c63bf}


Prepare an HTML ID attribute string for a form item.

Remove invalid characters and guarantee uniqueness.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$id}]The ID to clean. \item[{\em \$flush}]If set to TRUE, the function will flush and reset the static array which is built to test the uniqueness of element IDs. This is only used if a form has completed the validation process. This parameter should never be set to TRUE if this function is being called to assign an ID to the ID element. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The cleaned ID. \end{Desc}
\hypertarget{group__form__api_g0e6b470194005ad3ff2fbf45f671dfa9}{
\index{form\_\-api@{form\_\-api}!form\_\-error@{form\_\-error}}
\index{form\_\-error@{form\_\-error}!form_api@{form\_\-api}}
\subsubsection[{form\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-error (\&\$ {\em element}, \/  \$ {\em message} = {\tt ''})}}
\label{group__form__api_g0e6b470194005ad3ff2fbf45f671dfa9}


Flag an element as having an error. \hypertarget{group__form__api_g9e32d49f4ca85da10a29dcfec27dd526}{
\index{form\_\-api@{form\_\-api}!form\_\-execute\_\-handlers@{form\_\-execute\_\-handlers}}
\index{form\_\-execute\_\-handlers@{form\_\-execute\_\-handlers}!form_api@{form\_\-api}}
\subsubsection[{form\_\-execute\_\-handlers}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-execute\_\-handlers (\$ {\em type}, \/  \&\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_g9e32d49f4ca85da10a29dcfec27dd526}


A helper function used to execute custom validation and submission handlers for a given form. Button-specific handlers are checked first. If none exist, the function falls back to form-level handlers.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$type}]The type of handler to execute. 'validate' or 'submit' are the defaults used by Form API. \item[{\em \$form}]An associative array containing the structure of the form. \item[{\em \$form\_\-state}]A keyed array containing the current state of the form. If the user submitted the form by clicking a button with custom handler functions defined, those handlers will be stored here. \end{description}
\end{Desc}
\hypertarget{group__form__api_g0632ccaef8acafed177d8bc993ab9a47}{
\index{form\_\-api@{form\_\-api}!form\_\-expand\_\-ahah@{form\_\-expand\_\-ahah}}
\index{form\_\-expand\_\-ahah@{form\_\-expand\_\-ahah}!form_api@{form\_\-api}}
\subsubsection[{form\_\-expand\_\-ahah}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-expand\_\-ahah (\$ {\em element})}}
\label{group__form__api_g0632ccaef8acafed177d8bc993ab9a47}


Add AHAH information about a form element to the page to communicate with javascript. If ahah\mbox{[}path\mbox{]} is set on an element, this additional javascript is added to the page header to attach the AHAH behaviors. See ahah.js for more information.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$element}]An associative array containing the properties of the element. Properties used: ahah\_\-event, ahah\_\-path, ahah\_\-wrapper, ahah\_\-parameters, ahah\_\-effect. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]None. Additional code is added to the header of the page using drupal\_\-add\_\-js. \end{Desc}
\hypertarget{group__form__api_gb1da3001a3773a949188b52f61a9cd09}{
\index{form\_\-api@{form\_\-api}!form\_\-get\_\-cache@{form\_\-get\_\-cache}}
\index{form\_\-get\_\-cache@{form\_\-get\_\-cache}!form_api@{form\_\-api}}
\subsubsection[{form\_\-get\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-get\_\-cache (\$ {\em form\_\-build\_\-id}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_gb1da3001a3773a949188b52f61a9cd09}


Fetch a form from cache. \hypertarget{group__form__api_ge57581ad2406d61116a133b99142283b}{
\index{form\_\-api@{form\_\-api}!form\_\-get\_\-error@{form\_\-get\_\-error}}
\index{form\_\-get\_\-error@{form\_\-get\_\-error}!form_api@{form\_\-api}}
\subsubsection[{form\_\-get\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-get\_\-error (\$ {\em element})}}
\label{group__form__api_ge57581ad2406d61116a133b99142283b}


Return the error message filed against the form with the specified name. \hypertarget{group__form__api_g158b3db5e88e96bf060c524cebcb8130}{
\index{form\_\-api@{form\_\-api}!form\_\-get\_\-errors@{form\_\-get\_\-errors}}
\index{form\_\-get\_\-errors@{form\_\-get\_\-errors}!form_api@{form\_\-api}}
\subsubsection[{form\_\-get\_\-errors}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-get\_\-errors ()}}
\label{group__form__api_g158b3db5e88e96bf060c524cebcb8130}


Return an associative array of all errors. \hypertarget{group__form__api_g88bf27e1f6246789acc77dd1686e0276}{
\index{form\_\-api@{form\_\-api}!form\_\-get\_\-options@{form\_\-get\_\-options}}
\index{form\_\-get\_\-options@{form\_\-get\_\-options}!form_api@{form\_\-api}}
\subsubsection[{form\_\-get\_\-options}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-get\_\-options (\$ {\em element}, \/  \$ {\em key})}}
\label{group__form__api_g88bf27e1f6246789acc77dd1686e0276}


Traverses a select element's option array looking for any values that hold the given key. Returns an array of indexes that match.

This function is useful if you need to modify the options that are already in a form element; for example, to remove choices which are not valid because of additional filters imposed by another module. One example might be altering the choices in a taxonomy selector. To correctly handle the case of a multiple hierarchy taxonomy, options arrays can now hold an array of objects, instead of a direct mapping of keys to labels, so that multiple choices in the selector can have the same key (and label). This makes it difficult to manipulate directly, which is why this helper function exists.

This function does not support optgroups (when the elements of the options array are themselves arrays), and will return FALSE if arrays are found. The caller must either flatten/restore or manually do their manipulations in this case, since returning the index is not sufficient, and supporting this would make the \char`\"{}helper\char`\"{} too complicated and cumbersome to be of any help.

As usual with functions that can return array() or FALSE, do not forget to use === and !== if needed.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$element}]The select element to search. \item[{\em \$key}]The key to look for. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]An array of indexes that match the given \$key. Array will be empty if no elements were found. FALSE if optgroups were found. \end{Desc}
\hypertarget{group__form__api_g274fe9a7fe000a43b7f173e3b54dae7f}{
\index{form\_\-api@{form\_\-api}!form\_\-set\_\-cache@{form\_\-set\_\-cache}}
\index{form\_\-set\_\-cache@{form\_\-set\_\-cache}!form_api@{form\_\-api}}
\subsubsection[{form\_\-set\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-set\_\-cache (\$ {\em form\_\-build\_\-id}, \/  \$ {\em form}, \/  \$ {\em form\_\-state})}}
\label{group__form__api_g274fe9a7fe000a43b7f173e3b54dae7f}


Store a form in the cache. \hypertarget{group__form__api_g08508e9a72925348973bb1a051a3ab99}{
\index{form\_\-api@{form\_\-api}!form\_\-set\_\-error@{form\_\-set\_\-error}}
\index{form\_\-set\_\-error@{form\_\-set\_\-error}!form_api@{form\_\-api}}
\subsubsection[{form\_\-set\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-set\_\-error (\$ {\em name} = {\tt NULL}, \/  \$ {\em message} = {\tt ''}, \/  \$ {\em reset} = {\tt FALSE})}}
\label{group__form__api_g08508e9a72925348973bb1a051a3ab99}


File an error against a form element.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$name}]The name of the form element. If the parents property of your form element is array('foo', 'bar', 'baz') then you may set an error on 'foo' or 'foo\mbox{]}\mbox{[}bar\mbox{]}\mbox{[}baz'. Setting an error on 'foo' sets an error for every element where the parents array starts with 'foo'. \item[{\em \$message}]The error message to present to the user. \item[{\em \$reset}]Reset the form errors static cache. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Never use the return value of this function, use form\_\-get\_\-errors and form\_\-get\_\-error instead. \end{Desc}
\hypertarget{group__form__api_ga7635bbcb1cb510fcc0cdc265e9ddea7}{
\index{form\_\-api@{form\_\-api}!form\_\-set\_\-value@{form\_\-set\_\-value}}
\index{form\_\-set\_\-value@{form\_\-set\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-set\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-set\_\-value (\$ {\em form\_\-item}, \/  \$ {\em value}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_ga7635bbcb1cb510fcc0cdc265e9ddea7}


Change submitted form values during the form processing cycle.

Use this function to change the submitted value of a form item in the validation phase so that it persists in \$form\_\-state through to the submission handlers in the submission phase.

Since \$form\_\-state\mbox{[}'values'\mbox{]} can either be a flat array of values, or a tree of nested values, some care must be taken when using this function. Specifically, \$form\_\-item\mbox{[}'parents'\mbox{]} is an array that describes the branch of the tree whose value should be updated. For example, if we wanted to update \$form\_\-state\mbox{[}'values'\mbox{]}\mbox{[}'one'\mbox{]}\mbox{[}'two'\mbox{]} to 'new value', we'd pass in \$form\_\-item\mbox{[}'parents'\mbox{]} = array('one', 'two') and \$value = 'new value'.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form\_\-item}]The form item that should have its value updated. Keys used: parents, value. In most cases you can just pass in the right element from the \$form array. \item[{\em \$value}]The new value for the form item. \item[{\em \$form\_\-state}]The array where the value change should be recorded. \end{description}
\end{Desc}
\hypertarget{group__form__api_gfe73ec471140a71b1d3f2810b4363592}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-checkbox\_\-value@{form\_\-type\_\-checkbox\_\-value}}
\index{form\_\-type\_\-checkbox\_\-value@{form\_\-type\_\-checkbox\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-checkbox\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-checkbox\_\-value (\$ {\em form}, \/  \$ {\em edit} = {\tt FALSE})}}
\label{group__form__api_gfe73ec471140a71b1d3f2810b4363592}


Helper function to determine the value for a checkbox form element.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form}]The form element whose value is being populated. \item[{\em \$edit}]The incoming POST data to populate the form element. If this is FALSE, the element's default value should be returned. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The data that will appear in the \$form\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. \end{Desc}
\hypertarget{group__form__api_g01c5405a174f6854caa1487451783ff1}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-checkboxes\_\-value@{form\_\-type\_\-checkboxes\_\-value}}
\index{form\_\-type\_\-checkboxes\_\-value@{form\_\-type\_\-checkboxes\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-checkboxes\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-checkboxes\_\-value (\$ {\em form}, \/  \$ {\em edit} = {\tt FALSE})}}
\label{group__form__api_g01c5405a174f6854caa1487451783ff1}


Helper function to determine the value for a checkboxes form element.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form}]The form element whose value is being populated. \item[{\em \$edit}]The incoming POST data to populate the form element. If this is FALSE, the element's default value should be returned. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The data that will appear in the \$form\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. \end{Desc}
\hypertarget{group__form__api_ga031aa7b832710f2a21d3b2351ed0fc6}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-image\_\-button\_\-value@{form\_\-type\_\-image\_\-button\_\-value}}
\index{form\_\-type\_\-image\_\-button\_\-value@{form\_\-type\_\-image\_\-button\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-image\_\-button\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-image\_\-button\_\-value (\$ {\em form}, \/  \$ {\em edit} = {\tt FALSE})}}
\label{group__form__api_ga031aa7b832710f2a21d3b2351ed0fc6}


Helper function to determine the value for an image button form element.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form}]The form element whose value is being populated. \item[{\em \$edit}]The incoming POST data to populate the form element. If this is FALSE, the element's default value should be returned. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The data that will appear in the \$form\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. \end{Desc}
\hypertarget{group__form__api_gf3479512bae1569cf68059608ecfe29d}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-password\_\-confirm\_\-value@{form\_\-type\_\-password\_\-confirm\_\-value}}
\index{form\_\-type\_\-password\_\-confirm\_\-value@{form\_\-type\_\-password\_\-confirm\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-password\_\-confirm\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-password\_\-confirm\_\-value (\$ {\em form}, \/  \$ {\em edit} = {\tt FALSE})}}
\label{group__form__api_gf3479512bae1569cf68059608ecfe29d}


Helper function to determine the value for a password\_\-confirm form element.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form}]The form element whose value is being populated. \item[{\em \$edit}]The incoming POST data to populate the form element. If this is FALSE, the element's default value should be returned. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The data that will appear in the \$form\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. \end{Desc}
\hypertarget{group__form__api_g0b794da7fc875fa20913a98532a826d3}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-select\_\-value@{form\_\-type\_\-select\_\-value}}
\index{form\_\-type\_\-select\_\-value@{form\_\-type\_\-select\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-select\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-select\_\-value (\$ {\em form}, \/  \$ {\em edit} = {\tt FALSE})}}
\label{group__form__api_g0b794da7fc875fa20913a98532a826d3}


Helper function to determine the value for a select form element.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form}]The form element whose value is being populated. \item[{\em \$edit}]The incoming POST data to populate the form element. If this is FALSE, the element's default value should be returned. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The data that will appear in the \$form\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. \end{Desc}
\hypertarget{group__form__api_g55b3eea2f5223cb98dbcdd83cc62e432}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-textfield\_\-value@{form\_\-type\_\-textfield\_\-value}}
\index{form\_\-type\_\-textfield\_\-value@{form\_\-type\_\-textfield\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-textfield\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-textfield\_\-value (\$ {\em form}, \/  \$ {\em edit} = {\tt FALSE})}}
\label{group__form__api_g55b3eea2f5223cb98dbcdd83cc62e432}


Helper function to determine the value for a textfield form element.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form}]The form element whose value is being populated. \item[{\em \$edit}]The incoming POST data to populate the form element. If this is FALSE, the element's default value should be returned. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The data that will appear in the \$form\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. \end{Desc}
\hypertarget{group__form__api_g1bde00e0188d845783f528279775f80e}{
\index{form\_\-api@{form\_\-api}!form\_\-type\_\-token\_\-value@{form\_\-type\_\-token\_\-value}}
\index{form\_\-type\_\-token\_\-value@{form\_\-type\_\-token\_\-value}!form_api@{form\_\-api}}
\subsubsection[{form\_\-type\_\-token\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}form\_\-type\_\-token\_\-value (\$ {\em form}, \/  \$ {\em edit} = {\tt FALSE})}}
\label{group__form__api_g1bde00e0188d845783f528279775f80e}


Helper function to determine the value for form's token value.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$form}]The form element whose value is being populated. \item[{\em \$edit}]The incoming POST data to populate the form element. If this is FALSE, the element's default value should be returned. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The data that will appear in the \$form\_\-state\mbox{[}'values'\mbox{]} collection for this element. Return nothing to use the default. \end{Desc}
\hypertarget{group__form__api_g11e3cb67c8622b662acc4dff61e146a7}{
\index{form\_\-api@{form\_\-api}!map\_\-month@{map\_\-month}}
\index{map\_\-month@{map\_\-month}!form_api@{form\_\-api}}
\subsubsection[{map\_\-month}]{\setlength{\rightskip}{0pt plus 5cm}map\_\-month (\$ {\em month})}}
\label{group__form__api_g11e3cb67c8622b662acc4dff61e146a7}


Helper function for usage with drupal\_\-map\_\-assoc to display month names. \hypertarget{group__form__api_g18b2539d3eb96b30b90f73088051960e}{
\index{form\_\-api@{form\_\-api}!password\_\-confirm\_\-validate@{password\_\-confirm\_\-validate}}
\index{password\_\-confirm\_\-validate@{password\_\-confirm\_\-validate}!form_api@{form\_\-api}}
\subsubsection[{password\_\-confirm\_\-validate}]{\setlength{\rightskip}{0pt plus 5cm}password\_\-confirm\_\-validate (\$ {\em form}, \/  \&\$ {\em form\_\-state})}}
\label{group__form__api_g18b2539d3eb96b30b90f73088051960e}


Validate password\_\-confirm element. \hypertarget{group__form__api_gf45ceae18e7f0206568fd7985bcfee4d}{
\index{form\_\-api@{form\_\-api}!process\_\-weight@{process\_\-weight}}
\index{process\_\-weight@{process\_\-weight}!form_api@{form\_\-api}}
\subsubsection[{process\_\-weight}]{\setlength{\rightskip}{0pt plus 5cm}process\_\-weight (\$ {\em element})}}
\label{group__form__api_gf45ceae18e7f0206568fd7985bcfee4d}


Expand weight elements into selects. \hypertarget{group__form__api_gd80eba4897b841808cb71e6ba97603b2}{
\index{form\_\-api@{form\_\-api}!weight\_\-value@{weight\_\-value}}
\index{weight\_\-value@{weight\_\-value}!form_api@{form\_\-api}}
\subsubsection[{weight\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}weight\_\-value (\&\$ {\em form})}}
\label{group__form__api_gd80eba4897b841808cb71e6ba97603b2}


If no default value is set for weight select boxes, use 0. 