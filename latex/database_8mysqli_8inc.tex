\hypertarget{database_8mysqli_8inc}{
\section{includes/database.mysqli.inc File Reference}
\label{database_8mysqli_8inc}\index{includes/database.mysqli.inc@{includes/database.mysqli.inc}}
}
\subsection*{Functions}
\begin{Indent}{\bf }\par
\begin{CompactItemize}
\item 
\hyperlink{database_8mysqli_8inc_497d9afd8edb209108db34ea159c77ca}{db\_\-status\_\-report} (\$phase)
\item 
\hyperlink{database_8mysqli_8inc_6736a6897048ff0167a0bbe5e374fc13}{db\_\-version} ()
\item 
\hyperlink{database_8mysqli_8inc_bc9960ee403664deae1c219015dc5ff2}{db\_\-connect} (\$url)
\item 
\hyperlink{database_8mysqli_8inc_f0a663e6a6aaf095f78a77c871b8028b}{\_\-db\_\-query} (\$query, \$debug=0)
\item 
\hyperlink{database_8mysqli_8inc_5faaeba7105d28828db453b4fd3c75d4}{db\_\-fetch\_\-object} (\$result)
\item 
\hyperlink{database_8mysqli_8inc_2bd5f98fec7f21ee2c37f6b83785dcb9}{db\_\-fetch\_\-array} (\$result)
\item 
\hyperlink{database_8mysqli_8inc_953354ea01b236440b187210dc18aad9}{db\_\-result} (\$result)
\item 
\hyperlink{database_8mysqli_8inc_5acae04a62f1baa2e83d189e72071bfe}{db\_\-error} ()
\item 
\hyperlink{database_8mysqli_8inc_e3bc677fbeebd688068ce3b413ac2944}{db\_\-affected\_\-rows} ()
\item 
\hyperlink{database_8mysqli_8inc_893cbcab2ecf321005eae4e278adc22b}{db\_\-query\_\-range} (\$query)
\item 
\hyperlink{database_8mysqli_8inc_bce8dcddcded20016a1925824cd09efa}{db\_\-query\_\-temporary} (\$query)
\item 
\hyperlink{database_8mysqli_8inc_464ab7b26ecfdddc68f3564ca609ac3f}{db\_\-encode\_\-blob} (\$data)
\item 
\hyperlink{database_8mysqli_8inc_1ed4215d202290ca055de8f6cf3b6f08}{db\_\-decode\_\-blob} (\$data)
\item 
\hyperlink{database_8mysqli_8inc_f7e6977f59f6a23327521ae3a89346f5}{db\_\-escape\_\-string} (\$text)
\item 
\hyperlink{database_8mysqli_8inc_8584042b05393a82b7d06c2ee6cf95ed}{db\_\-lock\_\-table} (\$table)
\item 
\hyperlink{database_8mysqli_8inc_827df02252c1d606c685b768807b7181}{db\_\-unlock\_\-tables} ()
\item 
\hyperlink{database_8mysqli_8inc_78809300cee80db034832825aed55b70}{db\_\-table\_\-exists} (\$table)
\item 
\hyperlink{database_8mysqli_8inc_3d649bb8d8b9a7222c0bded9d7e2785a}{db\_\-column\_\-exists} (\$table, \$column)
\end{CompactItemize}
\end{Indent}


\subsection{Detailed Description}
Database interface code for MySQL database servers using the mysqli client libraries. mysqli is included in PHP 5 by default and allows developers to use the advanced features of MySQL 4.1.x, 5.0.x and beyond. 

\subsection{Function Documentation}
\hypertarget{database_8mysqli_8inc_f0a663e6a6aaf095f78a77c871b8028b}{
\index{database.mysqli.inc@{database.mysqli.inc}!\_\-db\_\-query@{\_\-db\_\-query}}
\index{\_\-db\_\-query@{\_\-db\_\-query}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{\_\-db\_\-query}]{\setlength{\rightskip}{0pt plus 5cm}\_\-db\_\-query (\$ {\em query}, \/  \$ {\em debug} = {\tt 0})}}
\label{database_8mysqli_8inc_f0a663e6a6aaf095f78a77c871b8028b}


Helper function for \hyperlink{database_8mysql-common_8inc_9e096321b86945d128746ac7bedce8f3}{db\_\-query()}. \hypertarget{database_8mysqli_8inc_e3bc677fbeebd688068ce3b413ac2944}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-affected\_\-rows@{db\_\-affected\_\-rows}}
\index{db\_\-affected\_\-rows@{db\_\-affected\_\-rows}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-affected\_\-rows}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-affected\_\-rows ()}}
\label{database_8mysqli_8inc_e3bc677fbeebd688068ce3b413ac2944}


Determine the number of rows changed by the preceding query. \hypertarget{database_8mysqli_8inc_3d649bb8d8b9a7222c0bded9d7e2785a}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-column\_\-exists@{db\_\-column\_\-exists}}
\index{db\_\-column\_\-exists@{db\_\-column\_\-exists}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-column\_\-exists}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-column\_\-exists (\$ {\em table}, \/  \$ {\em column})}}
\label{database_8mysqli_8inc_3d649bb8d8b9a7222c0bded9d7e2785a}


Check if a column exists in the given table. \hypertarget{database_8mysqli_8inc_bc9960ee403664deae1c219015dc5ff2}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-connect@{db\_\-connect}}
\index{db\_\-connect@{db\_\-connect}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-connect}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-connect (\$ {\em url})}}
\label{database_8mysqli_8inc_bc9960ee403664deae1c219015dc5ff2}


Initialise a database connection.

Note that mysqli does not support persistent connections. \hypertarget{database_8mysqli_8inc_1ed4215d202290ca055de8f6cf3b6f08}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-decode\_\-blob@{db\_\-decode\_\-blob}}
\index{db\_\-decode\_\-blob@{db\_\-decode\_\-blob}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-decode\_\-blob}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-decode\_\-blob (\$ {\em data})}}
\label{database_8mysqli_8inc_1ed4215d202290ca055de8f6cf3b6f08}


Returns text from a Binary Large OBject value.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$data}]Data to decode. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Decoded data. \end{Desc}
\hypertarget{database_8mysqli_8inc_464ab7b26ecfdddc68f3564ca609ac3f}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-encode\_\-blob@{db\_\-encode\_\-blob}}
\index{db\_\-encode\_\-blob@{db\_\-encode\_\-blob}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-encode\_\-blob}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-encode\_\-blob (\$ {\em data})}}
\label{database_8mysqli_8inc_464ab7b26ecfdddc68f3564ca609ac3f}


Returns a properly formatted Binary Large Object value.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$data}]Data to encode. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Encoded data. \end{Desc}
\hypertarget{database_8mysqli_8inc_5acae04a62f1baa2e83d189e72071bfe}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-error@{db\_\-error}}
\index{db\_\-error@{db\_\-error}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-error ()}}
\label{database_8mysqli_8inc_5acae04a62f1baa2e83d189e72071bfe}


Determine whether the previous query caused an error. \hypertarget{database_8mysqli_8inc_f7e6977f59f6a23327521ae3a89346f5}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-escape\_\-string@{db\_\-escape\_\-string}}
\index{db\_\-escape\_\-string@{db\_\-escape\_\-string}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-escape\_\-string}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-escape\_\-string (\$ {\em text})}}
\label{database_8mysqli_8inc_f7e6977f59f6a23327521ae3a89346f5}


Prepare user input for use in a database query, preventing SQL injection attacks. \hypertarget{database_8mysqli_8inc_2bd5f98fec7f21ee2c37f6b83785dcb9}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-fetch\_\-array@{db\_\-fetch\_\-array}}
\index{db\_\-fetch\_\-array@{db\_\-fetch\_\-array}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-fetch\_\-array}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-fetch\_\-array (\$ {\em result})}}
\label{database_8mysqli_8inc_2bd5f98fec7f21ee2c37f6b83785dcb9}


Fetch one result row from the previous query as an array.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$result}]A database query result resource, as returned from \hyperlink{database_8mysql-common_8inc_9e096321b86945d128746ac7bedce8f3}{db\_\-query()}. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]An associative array representing the next row of the result, or FALSE. The keys of this object are the names of the table fields selected by the query, and the values are the field values for this result row. \end{Desc}
\hypertarget{database_8mysqli_8inc_5faaeba7105d28828db453b4fd3c75d4}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-fetch\_\-object@{db\_\-fetch\_\-object}}
\index{db\_\-fetch\_\-object@{db\_\-fetch\_\-object}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-fetch\_\-object}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-fetch\_\-object (\$ {\em result})}}
\label{database_8mysqli_8inc_5faaeba7105d28828db453b4fd3c75d4}


Fetch one result row from the previous query as an object.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$result}]A database query result resource, as returned from \hyperlink{database_8mysql-common_8inc_9e096321b86945d128746ac7bedce8f3}{db\_\-query()}. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]An object representing the next row of the result, or FALSE. The attributes of this object are the table fields selected by the query. \end{Desc}
\hypertarget{database_8mysqli_8inc_8584042b05393a82b7d06c2ee6cf95ed}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-lock\_\-table@{db\_\-lock\_\-table}}
\index{db\_\-lock\_\-table@{db\_\-lock\_\-table}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-lock\_\-table}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-lock\_\-table (\$ {\em table})}}
\label{database_8mysqli_8inc_8584042b05393a82b7d06c2ee6cf95ed}


Lock a table. \hypertarget{database_8mysqli_8inc_893cbcab2ecf321005eae4e278adc22b}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-query\_\-range@{db\_\-query\_\-range}}
\index{db\_\-query\_\-range@{db\_\-query\_\-range}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-query\_\-range}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-query\_\-range (\$ {\em query})}}
\label{database_8mysqli_8inc_893cbcab2ecf321005eae4e278adc22b}


Runs a limited-range query in the active database.

Use this as a substitute for \hyperlink{database_8mysql-common_8inc_9e096321b86945d128746ac7bedce8f3}{db\_\-query()} when a subset of the query is to be returned. User-supplied arguments to the query should be passed in as separate parameters so that they can be properly escaped to avoid SQL injection attacks.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$query}]A string containing an SQL query. \item[{\em ...}]A variable number of arguments which are substituted into the query using printf() syntax. The query arguments can be enclosed in one array instead. Valid -modifiers are: s, d, f, b (binary data, do not enclose in '') and \%\%.\end{description}
\end{Desc}
NOTE: using this syntax will cast NULL and FALSE values to decimal 0, and TRUE values to decimal 1.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$from}]The first result row to return. \item[{\em \$count}]The maximum number of result rows to return. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]A database query result resource, or FALSE if the query was not executed correctly. \end{Desc}
\hypertarget{database_8mysqli_8inc_bce8dcddcded20016a1925824cd09efa}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-query\_\-temporary@{db\_\-query\_\-temporary}}
\index{db\_\-query\_\-temporary@{db\_\-query\_\-temporary}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-query\_\-temporary}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-query\_\-temporary (\$ {\em query})}}
\label{database_8mysqli_8inc_bce8dcddcded20016a1925824cd09efa}


Runs a SELECT query and stores its results in a temporary table.

Use this as a substitute for \hyperlink{database_8mysql-common_8inc_9e096321b86945d128746ac7bedce8f3}{db\_\-query()} when the results need to stored in a temporary table. Temporary tables exist for the duration of the page request. User-supplied arguments to the query should be passed in as separate parameters so that they can be properly escaped to avoid SQL injection attacks.

Note that if you need to know how many results were returned, you should do a SELECT COUNT($\ast$) on the temporary table afterwards. \hyperlink{database_8mysql_8inc_e3bc677fbeebd688068ce3b413ac2944}{db\_\-affected\_\-rows()} does not give consistent result across different database types in this case.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$query}]A string containing a normal SELECT SQL query. \item[{\em ...}]A variable number of arguments which are substituted into the query using printf() syntax. The query arguments can be enclosed in one array instead. Valid -modifiers are: s, d, f, b (binary data, do not enclose in '') and \%\%.\end{description}
\end{Desc}
NOTE: using this syntax will cast NULL and FALSE values to decimal 0, and TRUE values to decimal 1.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$table}]The name of the temporary table to select into. This name will not be prefixed as there is no risk of collision. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]A database query result resource, or FALSE if the query was not executed correctly. \end{Desc}
\hypertarget{database_8mysqli_8inc_953354ea01b236440b187210dc18aad9}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-result@{db\_\-result}}
\index{db\_\-result@{db\_\-result}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-result}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-result (\$ {\em result})}}
\label{database_8mysqli_8inc_953354ea01b236440b187210dc18aad9}


Return an individual result field from the previous query.

Only use this function if exactly one field is being selected; otherwise, use \hyperlink{database_8mysql_8inc_5faaeba7105d28828db453b4fd3c75d4}{db\_\-fetch\_\-object()} or \hyperlink{database_8mysql_8inc_2bd5f98fec7f21ee2c37f6b83785dcb9}{db\_\-fetch\_\-array()}.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$result}]A database query result resource, as returned from \hyperlink{database_8mysql-common_8inc_9e096321b86945d128746ac7bedce8f3}{db\_\-query()}. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]The resulting field or FALSE. \end{Desc}
\hypertarget{database_8mysqli_8inc_497d9afd8edb209108db34ea159c77ca}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-status\_\-report@{db\_\-status\_\-report}}
\index{db\_\-status\_\-report@{db\_\-status\_\-report}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-status\_\-report}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-status\_\-report (\$ {\em phase})}}
\label{database_8mysqli_8inc_497d9afd8edb209108db34ea159c77ca}


Report database status. \hypertarget{database_8mysqli_8inc_78809300cee80db034832825aed55b70}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-table\_\-exists@{db\_\-table\_\-exists}}
\index{db\_\-table\_\-exists@{db\_\-table\_\-exists}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-table\_\-exists}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-table\_\-exists (\$ {\em table})}}
\label{database_8mysqli_8inc_78809300cee80db034832825aed55b70}


Check if a table exists. \hypertarget{database_8mysqli_8inc_827df02252c1d606c685b768807b7181}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-unlock\_\-tables@{db\_\-unlock\_\-tables}}
\index{db\_\-unlock\_\-tables@{db\_\-unlock\_\-tables}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-unlock\_\-tables}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-unlock\_\-tables ()}}
\label{database_8mysqli_8inc_827df02252c1d606c685b768807b7181}


Unlock all locked tables. \hypertarget{database_8mysqli_8inc_6736a6897048ff0167a0bbe5e374fc13}{
\index{database.mysqli.inc@{database.mysqli.inc}!db\_\-version@{db\_\-version}}
\index{db\_\-version@{db\_\-version}!database.mysqli.inc@{database.mysqli.inc}}
\subsubsection[{db\_\-version}]{\setlength{\rightskip}{0pt plus 5cm}db\_\-version ()}}
\label{database_8mysqli_8inc_6736a6897048ff0167a0bbe5e374fc13}


Returns the version of the database server currently in use.

\begin{Desc}
\item[Returns:]Database server version \end{Desc}
