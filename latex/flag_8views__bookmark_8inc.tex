\hypertarget{flag_8views__bookmark_8inc}{
\section{sites/all/modules/contrib/flag/includes/flag.views\_\-bookmark.inc File Reference}
\label{flag_8views__bookmark_8inc}\index{sites/all/modules/contrib/flag/includes/flag.views\_\-bookmark.inc@{sites/all/modules/contrib/flag/includes/flag.views\_\-bookmark.inc}}
}
\subsection*{Functions}
\begin{CompactItemize}
\item 
\hyperlink{flag_8views__bookmark_8inc_d5cfa5dcf805c66fc0c86511acb5a237}{flag\_\-views\_\-bookmark\_\-update\_\-needed} ()
\item 
\hyperlink{flag_8views__bookmark_8inc_a39d7b88115e14a84c01e143c335d838}{flag\_\-views\_\-bookmark\_\-update} ()
\item 
\hyperlink{flag_8views__bookmark_8inc_704c0e040a36590d94bb0bc590f6b66b}{flag\_\-views\_\-bookmark\_\-update\_\-prepare} ()
\item 
\hyperlink{flag_8views__bookmark_8inc_e8493a9a414b2bef1c9424ef50c2f156}{flag\_\-views\_\-bookmark\_\-update\_\-tables} ()
\item 
\hyperlink{flag_8views__bookmark_8inc_7a09022a28d65c81520220f3cd778ba3}{flag\_\-views\_\-bookmark\_\-update\_\-uninstall} ()
\item 
if(!function\_\-exists('update\_\-sql')) \hyperlink{flag_8views__bookmark_8inc_9ce164c1880b7c9c3b5b51c3b2aa06d6}{flag\_\-views\_\-bookmark\_\-update\_\-1} ()
\item 
\hypertarget{flag_8views__bookmark_8inc_c0d6f2d8acf0ff099719cb3c175498e6}{
\textbf{flag\_\-views\_\-bookmark\_\-update\_\-2} ()}
\label{flag_8views__bookmark_8inc_c0d6f2d8acf0ff099719cb3c175498e6}

\item 
\hypertarget{flag_8views__bookmark_8inc_2fe53181dec852cbe713e2e9cb59f9a2}{
\textbf{flag\_\-views\_\-bookmark\_\-update\_\-3} ()}
\label{flag_8views__bookmark_8inc_2fe53181dec852cbe713e2e9cb59f9a2}

\item 
\hypertarget{flag_8views__bookmark_8inc_c76205bb587f800558165b3a97b7c4fc}{
\textbf{flag\_\-views\_\-bookmark\_\-update\_\-4} ()}
\label{flag_8views__bookmark_8inc_c76205bb587f800558165b3a97b7c4fc}

\item 
\hypertarget{flag_8views__bookmark_8inc_0d88a5b63f33a0e587c93de9b8de0a15}{
\textbf{flag\_\-views\_\-bookmark\_\-update\_\-5} ()}
\label{flag_8views__bookmark_8inc_0d88a5b63f33a0e587c93de9b8de0a15}

\item 
\hyperlink{flag_8views__bookmark_8inc_37e9f392694b130110e5f2cb26b31cb4}{flag\_\-views\_\-bookmark\_\-update\_\-6} ()
\item 
\hyperlink{flag_8views__bookmark_8inc_4f23f5f0988c3bc3f7bfcb815f8fd260}{flag\_\-views\_\-bookmark\_\-update\_\-7} ()
\item 
\hypertarget{flag_8views__bookmark_8inc_1db93b497eb3823be30503d4b91493ef}{
\textbf{flag\_\-views\_\-bookmark\_\-update\_\-5100} ()}
\label{flag_8views__bookmark_8inc_1db93b497eb3823be30503d4b91493ef}

\item 
\hyperlink{flag_8views__bookmark_8inc_cc71127082d102ce3a9b4bed39743f83}{flag\_\-views\_\-bookmark\_\-update\_\-5101} ()
\item 
\hyperlink{flag_8views__bookmark_8inc_298793c4236ee9f00e26b9d0ec7d7e7d}{flag\_\-views\_\-bookmark\_\-update\_\-5102} ()
\end{CompactItemize}


\subsection{Detailed Description}
Upgrade code to migrate from Views bookmark to Flag module. 

\subsection{Function Documentation}
\hypertarget{flag_8views__bookmark_8inc_a39d7b88115e14a84c01e143c335d838}{
\index{flag.views\_\-bookmark.inc@{flag.views\_\-bookmark.inc}!flag\_\-views\_\-bookmark\_\-update@{flag\_\-views\_\-bookmark\_\-update}}
\index{flag\_\-views\_\-bookmark\_\-update@{flag\_\-views\_\-bookmark\_\-update}!flag.views_bookmark.inc@{flag.views\_\-bookmark.inc}}
\subsubsection[{flag\_\-views\_\-bookmark\_\-update}]{\setlength{\rightskip}{0pt plus 5cm}flag\_\-views\_\-bookmark\_\-update ()}}
\label{flag_8views__bookmark_8inc_a39d7b88115e14a84c01e143c335d838}


Perform all pieces of the update. \hypertarget{flag_8views__bookmark_8inc_9ce164c1880b7c9c3b5b51c3b2aa06d6}{
\index{flag.views\_\-bookmark.inc@{flag.views\_\-bookmark.inc}!flag\_\-views\_\-bookmark\_\-update\_\-1@{flag\_\-views\_\-bookmark\_\-update\_\-1}}
\index{flag\_\-views\_\-bookmark\_\-update\_\-1@{flag\_\-views\_\-bookmark\_\-update\_\-1}!flag.views_bookmark.inc@{flag.views\_\-bookmark.inc}}
\subsubsection[{flag\_\-views\_\-bookmark\_\-update\_\-1}]{\setlength{\rightskip}{0pt plus 5cm}if (!function\_\-exists('update\_\-sql')) flag\_\-views\_\-bookmark\_\-update\_\-1 ()}}
\label{flag_8views__bookmark_8inc_9ce164c1880b7c9c3b5b51c3b2aa06d6}


Replace keys with primary keys. \hypertarget{flag_8views__bookmark_8inc_cc71127082d102ce3a9b4bed39743f83}{
\index{flag.views\_\-bookmark.inc@{flag.views\_\-bookmark.inc}!flag\_\-views\_\-bookmark\_\-update\_\-5101@{flag\_\-views\_\-bookmark\_\-update\_\-5101}}
\index{flag\_\-views\_\-bookmark\_\-update\_\-5101@{flag\_\-views\_\-bookmark\_\-update\_\-5101}!flag.views_bookmark.inc@{flag.views\_\-bookmark.inc}}
\subsubsection[{flag\_\-views\_\-bookmark\_\-update\_\-5101}]{\setlength{\rightskip}{0pt plus 5cm}flag\_\-views\_\-bookmark\_\-update\_\-5101 ()}}
\label{flag_8views__bookmark_8inc_cc71127082d102ce3a9b4bed39743f83}


Update all views that use the 'views\_\-bookmark\_\-nodes\_\-N.uid' field to use the 'views\_\-bookmark\_\-users\_\-N.name' one. See \href{http://drupal.org/node/211112}{\tt http://drupal.org/node/211112}

Update all views that use the 'views\_\-bookmark\_\-nodes\_\-N.vbid' field to use the 'views\_\-bookmark\_\-ops\_\-N.ops' one. See \href{http://drupal.org/node/213488}{\tt http://drupal.org/node/213488} \hypertarget{flag_8views__bookmark_8inc_298793c4236ee9f00e26b9d0ec7d7e7d}{
\index{flag.views\_\-bookmark.inc@{flag.views\_\-bookmark.inc}!flag\_\-views\_\-bookmark\_\-update\_\-5102@{flag\_\-views\_\-bookmark\_\-update\_\-5102}}
\index{flag\_\-views\_\-bookmark\_\-update\_\-5102@{flag\_\-views\_\-bookmark\_\-update\_\-5102}!flag.views_bookmark.inc@{flag.views\_\-bookmark.inc}}
\subsubsection[{flag\_\-views\_\-bookmark\_\-update\_\-5102}]{\setlength{\rightskip}{0pt plus 5cm}flag\_\-views\_\-bookmark\_\-update\_\-5102 ()}}
\label{flag_8views__bookmark_8inc_298793c4236ee9f00e26b9d0ec7d7e7d}


Handle issues \href{http://drupal.org/node/218766}{\tt http://drupal.org/node/218766} and \href{http://drupal.org/node/219146}{\tt http://drupal.org/node/219146} \hypertarget{flag_8views__bookmark_8inc_37e9f392694b130110e5f2cb26b31cb4}{
\index{flag.views\_\-bookmark.inc@{flag.views\_\-bookmark.inc}!flag\_\-views\_\-bookmark\_\-update\_\-6@{flag\_\-views\_\-bookmark\_\-update\_\-6}}
\index{flag\_\-views\_\-bookmark\_\-update\_\-6@{flag\_\-views\_\-bookmark\_\-update\_\-6}!flag.views_bookmark.inc@{flag.views\_\-bookmark.inc}}
\subsubsection[{flag\_\-views\_\-bookmark\_\-update\_\-6}]{\setlength{\rightskip}{0pt plus 5cm}flag\_\-views\_\-bookmark\_\-update\_\-6 ()}}
\label{flag_8views__bookmark_8inc_37e9f392694b130110e5f2cb26b31cb4}


Add columns for configurable messages. \hypertarget{flag_8views__bookmark_8inc_4f23f5f0988c3bc3f7bfcb815f8fd260}{
\index{flag.views\_\-bookmark.inc@{flag.views\_\-bookmark.inc}!flag\_\-views\_\-bookmark\_\-update\_\-7@{flag\_\-views\_\-bookmark\_\-update\_\-7}}
\index{flag\_\-views\_\-bookmark\_\-update\_\-7@{flag\_\-views\_\-bookmark\_\-update\_\-7}!flag.views_bookmark.inc@{flag.views\_\-bookmark.inc}}
\subsubsection[{flag\_\-views\_\-bookmark\_\-update\_\-7}]{\setlength{\rightskip}{0pt plus 5cm}flag\_\-views\_\-bookmark\_\-update\_\-7 ()}}
\label{flag_8views__bookmark_8inc_4f23f5f0988c3bc3f7bfcb815f8fd260}


Add the current user filter to every \hyperlink{classview}{view} using flag filters. Previously this was implied with all filters, now it is optional to increase the flexibility of flag.

For some reason Flag began providing a Node: Node ID argument in the 5.x port. Because this argument should be handled by Views' own node.inc file, update existing arguments to use that one instead. \hypertarget{flag_8views__bookmark_8inc_d5cfa5dcf805c66fc0c86511acb5a237}{
\index{flag.views\_\-bookmark.inc@{flag.views\_\-bookmark.inc}!flag\_\-views\_\-bookmark\_\-update\_\-needed@{flag\_\-views\_\-bookmark\_\-update\_\-needed}}
\index{flag\_\-views\_\-bookmark\_\-update\_\-needed@{flag\_\-views\_\-bookmark\_\-update\_\-needed}!flag.views_bookmark.inc@{flag.views\_\-bookmark.inc}}
\subsubsection[{flag\_\-views\_\-bookmark\_\-update\_\-needed}]{\setlength{\rightskip}{0pt plus 5cm}flag\_\-views\_\-bookmark\_\-update\_\-needed ()}}
\label{flag_8views__bookmark_8inc_d5cfa5dcf805c66fc0c86511acb5a237}


Determine if Views Bookmark needs to be updated. \hypertarget{flag_8views__bookmark_8inc_704c0e040a36590d94bb0bc590f6b66b}{
\index{flag.views\_\-bookmark.inc@{flag.views\_\-bookmark.inc}!flag\_\-views\_\-bookmark\_\-update\_\-prepare@{flag\_\-views\_\-bookmark\_\-update\_\-prepare}}
\index{flag\_\-views\_\-bookmark\_\-update\_\-prepare@{flag\_\-views\_\-bookmark\_\-update\_\-prepare}!flag.views_bookmark.inc@{flag.views\_\-bookmark.inc}}
\subsubsection[{flag\_\-views\_\-bookmark\_\-update\_\-prepare}]{\setlength{\rightskip}{0pt plus 5cm}flag\_\-views\_\-bookmark\_\-update\_\-prepare ()}}
\label{flag_8views__bookmark_8inc_704c0e040a36590d94bb0bc590f6b66b}


Prepare for the Views Bookmark to Flag migration.

Uninstall Flag module if needed. Bring Views Bookmark up to the latest schema. \hypertarget{flag_8views__bookmark_8inc_e8493a9a414b2bef1c9424ef50c2f156}{
\index{flag.views\_\-bookmark.inc@{flag.views\_\-bookmark.inc}!flag\_\-views\_\-bookmark\_\-update\_\-tables@{flag\_\-views\_\-bookmark\_\-update\_\-tables}}
\index{flag\_\-views\_\-bookmark\_\-update\_\-tables@{flag\_\-views\_\-bookmark\_\-update\_\-tables}!flag.views_bookmark.inc@{flag.views\_\-bookmark.inc}}
\subsubsection[{flag\_\-views\_\-bookmark\_\-update\_\-tables}]{\setlength{\rightskip}{0pt plus 5cm}flag\_\-views\_\-bookmark\_\-update\_\-tables ()}}
\label{flag_8views__bookmark_8inc_e8493a9a414b2bef1c9424ef50c2f156}


Update Views Bookmark to the Flag schema. \hypertarget{flag_8views__bookmark_8inc_7a09022a28d65c81520220f3cd778ba3}{
\index{flag.views\_\-bookmark.inc@{flag.views\_\-bookmark.inc}!flag\_\-views\_\-bookmark\_\-update\_\-uninstall@{flag\_\-views\_\-bookmark\_\-update\_\-uninstall}}
\index{flag\_\-views\_\-bookmark\_\-update\_\-uninstall@{flag\_\-views\_\-bookmark\_\-update\_\-uninstall}!flag.views_bookmark.inc@{flag.views\_\-bookmark.inc}}
\subsubsection[{flag\_\-views\_\-bookmark\_\-update\_\-uninstall}]{\setlength{\rightskip}{0pt plus 5cm}flag\_\-views\_\-bookmark\_\-update\_\-uninstall ()}}
\label{flag_8views__bookmark_8inc_7a09022a28d65c81520220f3cd778ba3}


Finishing tasks. 