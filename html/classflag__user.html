<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>flag_user Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>flag_user Class Reference</h1><!-- doxytag: class="flag_user" --><!-- doxytag: inherits="flag_flag" --><div class="dynheader">
Inheritance diagram for flag_user:</div>
<div class="dynsection">

<p><center><img src="classflag__user.png" usemap="#flag_user_map" border="0" alt=""></center>
<map name="flag_user_map">
<area href="classflag__flag.html" alt="flag_flag" shape="rect" coords="0,0,65,24">
</map>
</div>

<p>
<a href="classflag__user-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#5df658a9df123b09608c3438a06fe86e">default_options</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#2a425815ad46c2ffd8f48ded77d06231">options_form</a> (&amp;$form)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#93152c6302f304279dba89e4b81af658">_load_content</a> ($content_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#1166b6c58dbd8074dd5187f3c5b84c8b">applies_to_content_object</a> ($user)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#3cb6ed47377662232c4f41bfe2f41f09">get_content_id</a> ($user)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#279b08bbeb85bdd35710b25e94ebba81">uses_hook_link</a> ($teaser)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#08790af167b1f4b273b5b8af7d3677b7">get_labels_token_types</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#7f311816450a6101d5ea132a41016d51">replace_tokens</a> ($label, $contexts, $content_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#6b753497cc4bd54f8328b8d0e7185142">get_flag_action</a> ($content_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#92be6b0492226ca0feb1f2dc486d519e">get_relevant_action_objects</a> ($content_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#1773406a095155a3a1f6f8c0f099b85a">rules_get_event_arguments_definition</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#7ff3a7690719f97b18be24006586f083">rules_get_element_argument_definition</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#6964b8042fb9bb01e197705be533abba">get_views_info</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classflag__user.html#0ccc7caff183a9e9067d49a89917c003">applies_to_content_id_array</a> ($content_ids)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Implements a user flag. <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="93152c6302f304279dba89e4b81af658"></a><!-- doxytag: member="flag_user::_load_content" ref="93152c6302f304279dba89e4b81af658" args="($content_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::_load_content           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>content_id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Loads a content object this flag works with. Derived classes must implement this.
<p>Reimplemented from <a class="el" href="classflag__flag.html">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="0ccc7caff183a9e9067d49a89917c003"></a><!-- doxytag: member="flag_user::applies_to_content_id_array" ref="0ccc7caff183a9e9067d49a89917c003" args="($content_ids)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::applies_to_content_id_array           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>content_ids</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Similar to <a class="el" href="classflag__flag.html#a38afcc59d7d1ef028215521c6fcdc22">applies_to_content_id()</a> but works on a bunch of IDs. It is called in the pre_render() stage of the 'Flag links' field to find out where that link applies. The reason we do a separate DB query, and not lump this test in the Views query, is to make 'many to one' tests possible without interfering with the rows, and also to reduce the complexity of the code. 
<p>Reimplemented from <a class="el" href="group__views.html#g7ffe2653803be84d2c2d21dea608a6da">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="1166b6c58dbd8074dd5187f3c5b84c8b"></a><!-- doxytag: member="flag_user::applies_to_content_object" ref="1166b6c58dbd8074dd5187f3c5b84c8b" args="($user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::applies_to_content_object           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>content</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns TRUE if the flag applies to the given content. Derived classes must implement this.
<p>Reimplemented from <a class="el" href="classflag__flag.html#55c4da8291aed979309f25ce09953092">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="5df658a9df123b09608c3438a06fe86e"></a><!-- doxytag: member="flag_user::default_options" ref="5df658a9df123b09608c3438a06fe86e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::default_options           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Declares the options this flag supports, and their default values.<p>
Derived classes should want to override this. 
<p>Reimplemented from <a class="el" href="classflag__flag.html#240678d55d61a16ef848ecc0cc3c609f">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="3cb6ed47377662232c4f41bfe2f41f09"></a><!-- doxytag: member="flag_user::get_content_id" ref="3cb6ed47377662232c4f41bfe2f41f09" args="($user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::get_content_id           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>content</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Given a content object, returns its ID. Derived classes must implement this.
<p>Reimplemented from <a class="el" href="classflag__flag.html#4da5889b258c2bc28b248678573b881a">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="6b753497cc4bd54f8328b8d0e7185142"></a><!-- doxytag: member="flag_user::get_flag_action" ref="6b753497cc4bd54f8328b8d0e7185142" args="($content_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::get_flag_action           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>content_id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a 'flag action' object. It exists only for the sake of its informative tokens. Currently, it's utilized only for the 'mail' action.<p>
Derived classes should populate the 'content_title' and 'content_url' slots. 
<p>Reimplemented from <a class="el" href="classflag__flag.html#532e58b6e71a0ef8f6bcb55607cbca8e">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="08790af167b1f4b273b5b8af7d3677b7"></a><!-- doxytag: member="flag_user::get_labels_token_types" ref="08790af167b1f4b273b5b8af7d3677b7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::get_labels_token_types           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the token types this flag understands in labels. These are used for narrowing down the token list shown in the help box to only the relevant ones.<p>
Derived classes should override this. 
<p>Reimplemented from <a class="el" href="classflag__flag.html#bc21f4a879072d1a9d36b352e9ac6be0">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="92be6b0492226ca0feb1f2dc486d519e"></a><!-- doxytag: member="flag_user::get_relevant_action_objects" ref="92be6b0492226ca0feb1f2dc486d519e" args="($content_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::get_relevant_action_objects           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>content_id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns objects the action may possibly need. This method should return at least the 'primary' object the action operates on.<p>
This method is needed because <a class="el" href="group__actions.html#gbe1aa2bfc551fab8660cc3bacfc9d509">get_valid_actions()</a> returns actions that don't necessarily operate on an object of a type this flag manages. For example, flagging a comment may trigger an 'Unpublish post' action on a node; So the comment flag needs to tell the action about some node.<p>
Derived classes must implement this.
<p>Reimplemented from <a class="el" href="group__actions.html#g8f1b472c7f072dbfa682cc5b3fac9be6">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="6964b8042fb9bb01e197705be533abba"></a><!-- doxytag: member="flag_user::get_views_info" ref="6964b8042fb9bb01e197705be533abba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::get_views_info           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns information needed for Views integration. E.g., the Views table holding the flagged content, its primary key, and various labels. See derived classes for examples. 
<p>Reimplemented from <a class="el" href="group__views.html#g91f53a4d24f7c81f8a913e56154821c0">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="2a425815ad46c2ffd8f48ded77d06231"></a><!-- doxytag: member="flag_user::options_form" ref="2a425815ad46c2ffd8f48ded77d06231" args="(&amp;$form)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::options_form           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>form</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Provides a form for setting options.<p>
Derived classes should want to override this. 
<p>Reimplemented from <a class="el" href="classflag__flag.html#28aec91da5bc068c6c2a9a707ef62345">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="7f311816450a6101d5ea132a41016d51"></a><!-- doxytag: member="flag_user::replace_tokens" ref="7f311816450a6101d5ea132a41016d51" args="($label, $contexts, $content_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::replace_tokens           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>contexts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>content_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Replaces tokens in a label. Only the 'global' token context is regognized by default, so derived classes should override this method to add all token contexts they understand. 
<p>Reimplemented from <a class="el" href="classflag__flag.html#6fa61cada1cb5f94c64b3037fdd28da1">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="7ff3a7690719f97b18be24006586f083"></a><!-- doxytag: member="flag_user::rules_get_element_argument_definition" ref="7ff3a7690719f97b18be24006586f083" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::rules_get_element_argument_definition           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines the Rules argument for flag actions or conditions 
<p>Reimplemented from <a class="el" href="group__rules.html#g88951558f573d816de08b9e9d49ff4c2">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="1773406a095155a3a1f6f8c0f099b85a"></a><!-- doxytag: member="flag_user::rules_get_event_arguments_definition" ref="1773406a095155a3a1f6f8c0f099b85a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::rules_get_event_arguments_definition           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines the Rules arguments involved in a flag event. 
<p>Reimplemented from <a class="el" href="group__rules.html#g21a07dbe1a9e496438d235e95e67c048">flag_flag</a>.</p>

</div>
</div><p>
<a class="anchor" name="279b08bbeb85bdd35710b25e94ebba81"></a><!-- doxytag: member="flag_user::uses_hook_link" ref="279b08bbeb85bdd35710b25e94ebba81" args="($teaser)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flag_user::uses_hook_link           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>teaser</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns TRUE if the flag is configured to show the flag-link using hook_link. Derived classes are likely to implement this. 
<p>Reimplemented from <a class="el" href="classflag__flag.html#10e87c5a12cc7b857d388985295bc8ab">flag_flag</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>sites/all/modules/contrib/flag/<a class="el" href="flag_8inc.html">flag.inc</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Feb 12 18:59:47 2011 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
