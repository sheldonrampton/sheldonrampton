<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>modules/openid/openid.inc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>modules/openid/openid.inc File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>OPENID_DH_DEFAULT_MOD</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>OPENID_DH_DEFAULT_GEN</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>OPENID_SHA1_BLOCKSIZE</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>OPENID_RAND_SOURCE</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>OPENID_NS_2_0</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>OPENID_NS_1_1</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>OPENID_NS_1_0</b> </td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="openid_8inc.html#3c8b7c23742c62aae323c74c8c0f9915">openid_redirect_http</a> ($url, $message)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="openid_8inc.html#6836e61a578613959fe00ca83209ae2f">openid_redirect</a> ($url, $message)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="52777d750ac2d4fd5f75794116fa04cb"></a><!-- doxytag: member="openid.inc::openid_redirect_form" ref="52777d750ac2d4fd5f75794116fa04cb" args="(&amp;$form_state, $url, $message)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>openid_redirect_form</b> (&amp;$form_state, $url, $message)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="openid_8inc.html#867ccbcc067a82d3bc691a6cdc1ad9f4">_openid_is_xri</a> ($identifier)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="openid_8inc.html#ba14f184dc28aa90da400e857cb3b537">_openid_normalize</a> ($identifier)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a423503af225609f1fc7044ecf4e6ceb"></a><!-- doxytag: member="openid.inc::_openid_normalize_xri" ref="a423503af225609f1fc7044ecf4e6ceb" args="($xri)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_normalize_xri</b> ($xri)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c27e44e57989bc26d02dcec5d3a9ed5f"></a><!-- doxytag: member="openid.inc::_openid_normalize_url" ref="c27e44e57989bc26d02dcec5d3a9ed5f" args="($url)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_normalize_url</b> ($url)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="openid_8inc.html#5d5952e825b3e17cc2765760baf69d4f">_openid_create_message</a> ($data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="openid_8inc.html#367a73e53a7544157b49ffbedcbdb444">_openid_encode_message</a> ($message)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="openid_8inc.html#b5f88df8b540f08bd28e8a508bb49175">_openid_parse_message</a> ($message)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="openid_8inc.html#7f413b6dbcae0aab572b51b57f08b076">_openid_nonce</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="openid_8inc.html#413931ae272accf7e4161d5b032d4631">_openid_link_href</a> ($rel, $html)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="openid_8inc.html#cbf79310505895f32ef771f12addd3bc">_openid_meta_httpequiv</a> ($equiv, $html)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="openid_8inc.html#94a239a1dacef65306d0078198035cc7">_openid_signature</a> ($association, $message_array, $keys_to_sign)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2294d8c885fe408e7e1981e51e880ebc"></a><!-- doxytag: member="openid.inc::_openid_hmac" ref="2294d8c885fe408e7e1981e51e880ebc" args="($key, $text)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_hmac</b> ($key, $text)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3387da37f1b4f89bf95c56b1f8270d53"></a><!-- doxytag: member="openid.inc::_openid_sha1" ref="3387da37f1b4f89bf95c56b1f8270d53" args="($text)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_sha1</b> ($text)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="dd8eead4c4954c3ad50ff4990f165478"></a><!-- doxytag: member="openid.inc::_openid_dh_base64_to_long" ref="dd8eead4c4954c3ad50ff4990f165478" args="($str)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_dh_base64_to_long</b> ($str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="796f1e583d3276d8e8032fa5a4c0f616"></a><!-- doxytag: member="openid.inc::_openid_dh_long_to_base64" ref="796f1e583d3276d8e8032fa5a4c0f616" args="($str)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_dh_long_to_base64</b> ($str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="422c58798b7986b43a2b565df1b9f2d7"></a><!-- doxytag: member="openid.inc::_openid_dh_binary_to_long" ref="422c58798b7986b43a2b565df1b9f2d7" args="($str)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_dh_binary_to_long</b> ($str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9d1a28ec06188bbbc85acf1bfc41ae1d"></a><!-- doxytag: member="openid.inc::_openid_dh_long_to_binary" ref="9d1a28ec06188bbbc85acf1bfc41ae1d" args="($long)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_dh_long_to_binary</b> ($long)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f0f8bf2c50cbe825681e7e319a1fd33f"></a><!-- doxytag: member="openid.inc::_openid_dh_xorsecret" ref="f0f8bf2c50cbe825681e7e319a1fd33f" args="($shared, $secret)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_dh_xorsecret</b> ($shared, $secret)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="58900a927921ff4c61f925b81ceabbc0"></a><!-- doxytag: member="openid.inc::_openid_dh_rand" ref="58900a927921ff4c61f925b81ceabbc0" args="($stop)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_dh_rand</b> ($stop)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d13ffee2af6f25a64082b7e2c3cfe39f"></a><!-- doxytag: member="openid.inc::_openid_get_bytes" ref="d13ffee2af6f25a64082b7e2c3cfe39f" args="($num_bytes)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_get_bytes</b> ($num_bytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="56f4846ea99195ce405d7b9704b424b0"></a><!-- doxytag: member="openid.inc::_openid_response" ref="56f4846ea99195ce405d7b9704b424b0" args="($str=NULL)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_response</b> ($str=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e62ec8d61534cb5aa5a4a8f0d01b5dee"></a><!-- doxytag: member="openid.inc::_openid_get_params" ref="e62ec8d61534cb5aa5a4a8f0d01b5dee" args="($str)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_openid_get_params</b> ($str)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
OpenID utility functions. <hr><h2>Function Documentation</h2>
<a class="anchor" name="5d5952e825b3e17cc2765760baf69d4f"></a><!-- doxytag: member="openid.inc::_openid_create_message" ref="5d5952e825b3e17cc2765760baf69d4f" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_openid_create_message           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a serialized message packet as per spec: $key:$value<br>
 . 
</div>
</div><p>
<a class="anchor" name="367a73e53a7544157b49ffbedcbdb444"></a><!-- doxytag: member="openid.inc::_openid_encode_message" ref="367a73e53a7544157b49ffbedcbdb444" args="($message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_openid_encode_message           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>message</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Encode a message from _openid_create_message for HTTP Post 
</div>
</div><p>
<a class="anchor" name="867ccbcc067a82d3bc691a6cdc1ad9f4"></a><!-- doxytag: member="openid.inc::_openid_is_xri" ref="867ccbcc067a82d3bc691a6cdc1ad9f4" args="($identifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_openid_is_xri           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>identifier</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine if the given identifier is an XRI ID. 
</div>
</div><p>
<a class="anchor" name="413931ae272accf7e4161d5b032d4631"></a><!-- doxytag: member="openid.inc::_openid_link_href" ref="413931ae272accf7e4161d5b032d4631" args="($rel, $html)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_openid_link_href           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>rel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>html</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pull the href attribute out of an html link element. 
</div>
</div><p>
<a class="anchor" name="cbf79310505895f32ef771f12addd3bc"></a><!-- doxytag: member="openid.inc::_openid_meta_httpequiv" ref="cbf79310505895f32ef771f12addd3bc" args="($equiv, $html)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_openid_meta_httpequiv           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>equiv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>html</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pull the http-equiv attribute out of an html meta element 
</div>
</div><p>
<a class="anchor" name="7f413b6dbcae0aab572b51b57f08b076"></a><!-- doxytag: member="openid.inc::_openid_nonce" ref="7f413b6dbcae0aab572b51b57f08b076" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_openid_nonce           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a nonce value - formatted per OpenID spec. 
</div>
</div><p>
<a class="anchor" name="ba14f184dc28aa90da400e857cb3b537"></a><!-- doxytag: member="openid.inc::_openid_normalize" ref="ba14f184dc28aa90da400e857cb3b537" args="($identifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_openid_normalize           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>identifier</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Normalize the given identifier as per spec. 
</div>
</div><p>
<a class="anchor" name="b5f88df8b540f08bd28e8a508bb49175"></a><!-- doxytag: member="openid.inc::_openid_parse_message" ref="b5f88df8b540f08bd28e8a508bb49175" args="($message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_openid_parse_message           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>message</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert a direct communication message into an associative array. 
</div>
</div><p>
<a class="anchor" name="94a239a1dacef65306d0078198035cc7"></a><!-- doxytag: member="openid.inc::_openid_signature" ref="94a239a1dacef65306d0078198035cc7" args="($association, $message_array, $keys_to_sign)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_openid_signature           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>association</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>message_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keys_to_sign</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sign certain keys in a message <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$association</em>&nbsp;</td><td>- object loaded from openid_association or openid_server_association table<ul>
<li>important fields are -&gt;assoc_type and -&gt;mac_key </li></ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$message_array</em>&nbsp;</td><td>- array of entire message about to be sent </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$keys_to_sign</em>&nbsp;</td><td>- keys in the message to include in signature (without 'openid.' appended) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6836e61a578613959fe00ca83209ae2f"></a><!-- doxytag: member="openid.inc::openid_redirect" ref="6836e61a578613959fe00ca83209ae2f" args="($url, $message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">openid_redirect           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a js auto-submit redirect for (for the 2.x protocol) 
</div>
</div><p>
<a class="anchor" name="3c8b7c23742c62aae323c74c8c0f9915"></a><!-- doxytag: member="openid.inc::openid_redirect_http" ref="3c8b7c23742c62aae323c74c8c0f9915" args="($url, $message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">openid_redirect_http           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Performs an HTTP 302 redirect (for the 1.x protocol). 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Feb 12 18:59:45 2011 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
