<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Database abstraction layer</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Database abstraction layer</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#gac2405479299ce848b4c294cdba9b046">DB_QUERY_REGEXP</a> </td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g67680310ffaf72da52a9c2453325c0fb">update_sql</a> ($sql)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#gdb274339376ae7e48e3ea4da4c1de0b1">db_prefix_tables</a> ($sql)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g84e68f6dbf9cdec826e7b3852d1b283c">db_set_active</a> ($name= 'default')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g5aab9d68ecdc1712369d5d1ef64d455c">_db_error_page</a> ($error= '')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g19eaaae8681bb72e7476ef0aa0a5d01f">db_is_active</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g337493a6287b3b48a5a2ba6d74e844bf">_db_query_callback</a> ($match, $init=FALSE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g8d4c967b43af1b9d9fec0466102c490c">db_placeholders</a> ($arguments, $type= 'int')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g1c87af009b401cd8d695952f9eee20a9">_db_rewrite_sql</a> ($query= '', $primary_table= 'n', $primary_field= 'nid', $args=array())</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g0869f72f75d16bd0f9a52eaafa02e091">db_rewrite_sql</a> ($query, $primary_table= 'n', $primary_field= 'nid', $args=array())</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#gf07060b05ac825ab9d7bbb3ece2a699f">db_distinct_field</a> ($table, $field, $query)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g5f9fd89ca517eed3dfd7f128c3d65dd1">db_escape_table</a> ($string)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#ge456e13108bb88fa7a532e1cccdeaa50">pager_query</a> ($query, $limit=10, $element=0, $count_query=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#gd893ca6e60341e448203269c520696ce">tablesort_sql</a> ($header, $before= '')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g0f08b7a80942b33cdc67eebc95e0ee6b">db_status_report</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g6736a6897048ff0167a0bbe5e374fc13">db_version</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#gbc9960ee403664deae1c219015dc5ff2">db_connect</a> ($url)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g9e096321b86945d128746ac7bedce8f3">db_query</a> ($query)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#gf0a663e6a6aaf095f78a77c871b8028b">_db_query</a> ($query, $debug=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g5faaeba7105d28828db453b4fd3c75d4">db_fetch_object</a> ($result)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g2bd5f98fec7f21ee2c37f6b83785dcb9">db_fetch_array</a> ($result)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g953354ea01b236440b187210dc18aad9">db_result</a> ($result)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g5acae04a62f1baa2e83d189e72071bfe">db_error</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g1d29b142caeee2f0f2217be16857b9ae">db_last_insert_id</a> ($table, $field)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#ge3bc677fbeebd688068ce3b413ac2944">db_affected_rows</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g893cbcab2ecf321005eae4e278adc22b">db_query_range</a> ($query)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#gbce8dcddcded20016a1925824cd09efa">db_query_temporary</a> ($query)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g464ab7b26ecfdddc68f3564ca609ac3f">db_encode_blob</a> ($data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g1ed4215d202290ca055de8f6cf3b6f08">db_decode_blob</a> ($data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#gf7e6977f59f6a23327521ae3a89346f5">db_escape_string</a> ($text)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g8584042b05393a82b7d06c2ee6cf95ed">db_lock_table</a> ($table)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g827df02252c1d606c685b768807b7181">db_unlock_tables</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g78809300cee80db034832825aed55b70">db_table_exists</a> ($table)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g3d649bb8d8b9a7222c0bded9d7e2785a">db_column_exists</a> ($table, $column)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database.html#g7ba830a719ea0847a983f70ade811880">db_check_setup</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Allow the use of different database servers using the same code base.<p>
Drupal provides a slim database abstraction layer to provide developers with the ability to support multiple database servers easily. The intent of this layer is to preserve the syntax and power of SQL as much as possible, while letting Drupal control the pieces of queries that need to be written differently for different servers and provide basic security checks.<p>
Most Drupal database queries are performed by a call to <a class="el" href="database_8mysql-common_8inc.html#9e096321b86945d128746ac7bedce8f3">db_query()</a> or <a class="el" href="database_8mysql_8inc.html#893cbcab2ecf321005eae4e278adc22b">db_query_range()</a>. Module authors should also consider using <a class="el" href="group__database.html#ge456e13108bb88fa7a532e1cccdeaa50">pager_query()</a> for queries that return results that need to be presented on multiple pages, and <a class="el" href="group__database.html#gd893ca6e60341e448203269c520696ce">tablesort_sql()</a> for generating appropriate queries for sortable tables.<p>
For example, one might wish to return a list of the most recent 10 nodes authored by a given user. Instead of directly issuing the SQL query <div class="fragment"><pre class="fragment">   SELECT n.nid, n.title, n.created FROM node n WHERE n.uid = $uid LIMIT 0, 10;
</pre></div> one would instead call the Drupal functions: <div class="fragment"><pre class="fragment">   $result = <a class="code" href="database_8mysql_8inc.html#893cbcab2ecf321005eae4e278adc22b">db_query_range</a>(<span class="stringliteral">'SELECT n.nid, n.title, n.created</span>
<span class="stringliteral">     FROM {node} n WHERE n.uid = %d'</span>, $uid, 0, 10);
   <span class="keywordflow">while</span> ($node = <a class="code" href="database_8mysql_8inc.html#5faaeba7105d28828db453b4fd3c75d4">db_fetch_object</a>($result)) {
     <span class="comment">// Perform operations on $node-&gt;body, etc. here.</span>
   }
</pre></div> Curly braces are used around "node" to provide table prefixing via <a class="el" href="group__database.html#gdb274339376ae7e48e3ea4da4c1de0b1">db_prefix_tables()</a>. The explicit use of a user ID is pulled out into an argument passed to <a class="el" href="database_8mysql-common_8inc.html#9e096321b86945d128746ac7bedce8f3">db_query()</a> so that SQL injection attacks from user input can be caught and nullified. The LIMIT syntax varies between database servers, so that is abstracted into <a class="el" href="database_8mysql_8inc.html#893cbcab2ecf321005eae4e278adc22b">db_query_range()</a> arguments. Finally, note the common pattern of iterating over the result set using <a class="el" href="database_8mysql_8inc.html#5faaeba7105d28828db453b4fd3c75d4">db_fetch_object()</a>. <hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="gac2405479299ce848b4c294cdba9b046"></a><!-- doxytag: member="database.inc::DB_QUERY_REGEXP" ref="gac2405479299ce848b4c294cdba9b046" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__database.html#gac2405479299ce848b4c294cdba9b046">DB_QUERY_REGEXP</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Indicates the place holders that should be replaced in <a class="el" href="group__database.html#g337493a6287b3b48a5a2ba6d74e844bf">_db_query_callback()</a>. 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g5aab9d68ecdc1712369d5d1ef64d455c"></a><!-- doxytag: member="database.inc::_db_error_page" ref="g5aab9d68ecdc1712369d5d1ef64d455c" args="($error= '')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_db_error_page           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>error</em> = <code>''</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Helper function to show fatal database errors.<p>
Prints a themed maintenance page with the 'Site off-line' text, adding the provided error message in the case of 'display_errors' set to on. Ends the page request; no return.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$error</em>&nbsp;</td><td>The error message to be appended if 'display_errors' is on. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gf0a663e6a6aaf095f78a77c871b8028b"></a><!-- doxytag: member="database.pgsql.inc::_db_query" ref="gf0a663e6a6aaf095f78a77c871b8028b" args="($query, $debug=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_db_query           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>debug</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Helper function for <a class="el" href="database_8mysql-common_8inc.html#9e096321b86945d128746ac7bedce8f3">db_query()</a>. 
</div>
</div><p>
<a class="anchor" name="g337493a6287b3b48a5a2ba6d74e844bf"></a><!-- doxytag: member="database.inc::_db_query_callback" ref="g337493a6287b3b48a5a2ba6d74e844bf" args="($match, $init=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_db_query_callback           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>match</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>init</em> = <code>FALSE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Helper function for <a class="el" href="database_8mysql-common_8inc.html#9e096321b86945d128746ac7bedce8f3">db_query()</a>. 
</div>
</div><p>
<a class="anchor" name="g1c87af009b401cd8d695952f9eee20a9"></a><!-- doxytag: member="database.inc::_db_rewrite_sql" ref="g1c87af009b401cd8d695952f9eee20a9" args="($query= '', $primary_table= 'n', $primary_field= 'nid', $args=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_db_rewrite_sql           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>query</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>primary_table</em> = <code>'n'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>primary_field</em> = <code>'nid'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>args</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Helper function for db_rewrite_sql.<p>
Collects JOIN and WHERE statements via hook_db_rewrite_sql() Decides whether to select primary_key or DISTINCT(primary_key)<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$query</em>&nbsp;</td><td>Query to be rewritten. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$primary_table</em>&nbsp;</td><td>Name or alias of the table which has the primary key field for this query. Typical table names would be: {blocks}, {comments}, {forum}, {node}, {menu}, {term_data} or {vocabulary}. However, in most cases the usual table alias (b, c, f, n, m, t or v) is used instead of the table name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$primary_field</em>&nbsp;</td><td>Name of the primary field. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$args</em>&nbsp;</td><td>Array of additional arguments. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An array: join statements, where statements, field or DISTINCT(field). </dd></dl>

</div>
</div><p>
<a class="anchor" name="ge3bc677fbeebd688068ce3b413ac2944"></a><!-- doxytag: member="database.pgsql.inc::db_affected_rows" ref="ge3bc677fbeebd688068ce3b413ac2944" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_affected_rows           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine the number of rows changed by the preceding query. 
</div>
</div><p>
<a class="anchor" name="g7ba830a719ea0847a983f70ade811880"></a><!-- doxytag: member="database.pgsql.inc::db_check_setup" ref="g7ba830a719ea0847a983f70ade811880" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_check_setup           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verify if the database is set up correctly. 
</div>
</div><p>
<a class="anchor" name="g3d649bb8d8b9a7222c0bded9d7e2785a"></a><!-- doxytag: member="database.pgsql.inc::db_column_exists" ref="g3d649bb8d8b9a7222c0bded9d7e2785a" args="($table, $column)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_column_exists           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>column</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if a column exists in the given table. 
</div>
</div><p>
<a class="anchor" name="gbc9960ee403664deae1c219015dc5ff2"></a><!-- doxytag: member="database.pgsql.inc::db_connect" ref="gbc9960ee403664deae1c219015dc5ff2" args="($url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_connect           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>url</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize a database connection. 
</div>
</div><p>
<a class="anchor" name="g1ed4215d202290ca055de8f6cf3b6f08"></a><!-- doxytag: member="database.pgsql.inc::db_decode_blob" ref="g1ed4215d202290ca055de8f6cf3b6f08" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_decode_blob           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns text from a Binary Large OBject value. In case of PostgreSQL decodes data after select from bytea field.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$data</em>&nbsp;</td><td>Data to decode. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Decoded data. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gf07060b05ac825ab9d7bbb3ece2a699f"></a><!-- doxytag: member="database.inc::db_distinct_field" ref="gf07060b05ac825ab9d7bbb3ece2a699f" args="($table, $field, $query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_distinct_field           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>query</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds the DISTINCT flag to the supplied query and returns the altered query.<p>
The supplied query should not contain a DISTINCT flag. This will not, and never did guarantee that you will obtain distinct values of $table.$field.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>Unused. Kept to retain API compatibility. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>Unused. Kept to retain API compatibility. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$query</em>&nbsp;</td><td>Query to which the DISTINCT flag should be applied.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>SQL query with the DISTINCT flag set. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g464ab7b26ecfdddc68f3564ca609ac3f"></a><!-- doxytag: member="database.pgsql.inc::db_encode_blob" ref="g464ab7b26ecfdddc68f3564ca609ac3f" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_encode_blob           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a properly formatted Binary Large OBject value. In case of PostgreSQL encodes data for insert into bytea field.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$data</em>&nbsp;</td><td>Data to encode. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Encoded data. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g5acae04a62f1baa2e83d189e72071bfe"></a><!-- doxytag: member="database.pgsql.inc::db_error" ref="g5acae04a62f1baa2e83d189e72071bfe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_error           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine whether the previous query caused an error. 
</div>
</div><p>
<a class="anchor" name="gf7e6977f59f6a23327521ae3a89346f5"></a><!-- doxytag: member="database.pgsql.inc::db_escape_string" ref="gf7e6977f59f6a23327521ae3a89346f5" args="($text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_escape_string           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>text</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prepare user input for use in a database query, preventing SQL injection attacks. Note: This function requires PostgreSQL 7.2 or later. 
</div>
</div><p>
<a class="anchor" name="g5f9fd89ca517eed3dfd7f128c3d65dd1"></a><!-- doxytag: member="database.inc::db_escape_table" ref="g5f9fd89ca517eed3dfd7f128c3d65dd1" args="($string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_escape_table           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>string</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Restrict a dynamic table, column or constraint name to safe characters.<p>
Only keeps alphanumeric and underscores. 
</div>
</div><p>
<a class="anchor" name="g2bd5f98fec7f21ee2c37f6b83785dcb9"></a><!-- doxytag: member="database.pgsql.inc::db_fetch_array" ref="g2bd5f98fec7f21ee2c37f6b83785dcb9" args="($result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_fetch_array           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>result</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fetch one result row from the previous query as an array.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$result</em>&nbsp;</td><td>A database query result resource, as returned from <a class="el" href="database_8mysql-common_8inc.html#9e096321b86945d128746ac7bedce8f3">db_query()</a>. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An associative array representing the next row of the result, or FALSE. The keys of this object are the names of the table fields selected by the query, and the values are the field values for this result row. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g5faaeba7105d28828db453b4fd3c75d4"></a><!-- doxytag: member="database.pgsql.inc::db_fetch_object" ref="g5faaeba7105d28828db453b4fd3c75d4" args="($result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_fetch_object           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>result</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fetch one result row from the previous query as an object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$result</em>&nbsp;</td><td>A database query result resource, as returned from <a class="el" href="database_8mysql-common_8inc.html#9e096321b86945d128746ac7bedce8f3">db_query()</a>. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An object representing the next row of the result, or FALSE. The attributes of this object are the table fields selected by the query. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g19eaaae8681bb72e7476ef0aa0a5d01f"></a><!-- doxytag: member="database.inc::db_is_active" ref="g19eaaae8681bb72e7476ef0aa0a5d01f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_is_active           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a boolean depending on the availability of the database. 
</div>
</div><p>
<a class="anchor" name="g1d29b142caeee2f0f2217be16857b9ae"></a><!-- doxytag: member="database.pgsql.inc::db_last_insert_id" ref="g1d29b142caeee2f0f2217be16857b9ae" args="($table, $field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_last_insert_id           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>field</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the last insert id. This function is thread safe.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the table you inserted into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$field</em>&nbsp;</td><td>The name of the autoincrement field. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g8584042b05393a82b7d06c2ee6cf95ed"></a><!-- doxytag: member="database.pgsql.inc::db_lock_table" ref="g8584042b05393a82b7d06c2ee6cf95ed" args="($table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_lock_table           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lock a table. This function automatically starts a transaction. 
</div>
</div><p>
<a class="anchor" name="g8d4c967b43af1b9d9fec0466102c490c"></a><!-- doxytag: member="database.inc::db_placeholders" ref="g8d4c967b43af1b9d9fec0466102c490c" args="($arguments, $type= 'int')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_placeholders           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>arguments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em> = <code>'int'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generate placeholders for an array of query arguments of a single type.<p>
Given a Schema API field type, return correct -placeholders to embed in a query<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$arguments</em>&nbsp;</td><td>An array with at least one element. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$type</em>&nbsp;</td><td>The Schema API type of a field (e.g. 'int', 'text', or 'varchar'). </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gdb274339376ae7e48e3ea4da4c1de0b1"></a><!-- doxytag: member="database.inc::db_prefix_tables" ref="gdb274339376ae7e48e3ea4da4c1de0b1" args="($sql)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_prefix_tables           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sql</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Append a database prefix to all tables in a query.<p>
Queries sent to Drupal should wrap all table names in curly brackets. This function searches for this syntax and adds Drupal's table prefix to all tables, allowing Drupal to coexist with other systems in the same database if necessary.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$sql</em>&nbsp;</td><td>A string containing a partial or entire SQL query. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The properly-prefixed string. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g9e096321b86945d128746ac7bedce8f3"></a><!-- doxytag: member="database.pgsql.inc::db_query" ref="g9e096321b86945d128746ac7bedce8f3" args="($query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_query           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>query</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Runs a basic query in the active database.<p>
User-supplied arguments to the query should be passed in as separate parameters so that they can be properly escaped to avoid SQL injection attacks.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$query</em>&nbsp;</td><td>A string containing an SQL query. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>A variable number of arguments which are substituted into the query using printf() syntax. Instead of a variable number of query arguments, you may also pass a single array containing the query arguments.</td></tr>
  </table>
</dl>
Valid -modifiers are: s, d, f, b (binary data, do not enclose in '') and %%.<p>
NOTE: using this syntax will cast NULL and FALSE values to decimal 0, and TRUE values to decimal 1.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A database query result resource, or FALSE if the query was not executed correctly. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g893cbcab2ecf321005eae4e278adc22b"></a><!-- doxytag: member="database.pgsql.inc::db_query_range" ref="g893cbcab2ecf321005eae4e278adc22b" args="($query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_query_range           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>query</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Runs a limited-range query in the active database.<p>
Use this as a substitute for <a class="el" href="database_8mysql-common_8inc.html#9e096321b86945d128746ac7bedce8f3">db_query()</a> when a subset of the query is to be returned. User-supplied arguments to the query should be passed in as separate parameters so that they can be properly escaped to avoid SQL injection attacks.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$query</em>&nbsp;</td><td>A string containing an SQL query. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>A variable number of arguments which are substituted into the query using printf() syntax. Instead of a variable number of query arguments, you may also pass a single array containing the query arguments. Valid -modifiers are: s, d, f, b (binary data, do not enclose in '') and %%.</td></tr>
  </table>
</dl>
NOTE: using this syntax will cast NULL and FALSE values to decimal 0, and TRUE values to decimal 1.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$from</em>&nbsp;</td><td>The first result row to return. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$count</em>&nbsp;</td><td>The maximum number of result rows to return. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A database query result resource, or FALSE if the query was not executed correctly. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gbce8dcddcded20016a1925824cd09efa"></a><!-- doxytag: member="database.pgsql.inc::db_query_temporary" ref="gbce8dcddcded20016a1925824cd09efa" args="($query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_query_temporary           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>query</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Runs a SELECT query and stores its results in a temporary table.<p>
Use this as a substitute for <a class="el" href="database_8mysql-common_8inc.html#9e096321b86945d128746ac7bedce8f3">db_query()</a> when the results need to stored in a temporary table. Temporary tables exist for the duration of the page request. User-supplied arguments to the query should be passed in as separate parameters so that they can be properly escaped to avoid SQL injection attacks.<p>
Note that if you need to know how many results were returned, you should do a SELECT COUNT(*) on the temporary table afterwards. <a class="el" href="database_8mysql_8inc.html#e3bc677fbeebd688068ce3b413ac2944">db_affected_rows()</a> does not give consistent result across different database types in this case.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$query</em>&nbsp;</td><td>A string containing a normal SELECT SQL query. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>A variable number of arguments which are substituted into the query using printf() syntax. The query arguments can be enclosed in one array instead. Valid -modifiers are: s, d, f, b (binary data, do not enclose in '') and %%.</td></tr>
  </table>
</dl>
NOTE: using this syntax will cast NULL and FALSE values to decimal 0, and TRUE values to decimal 1.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the temporary table to select into. This name will not be prefixed as there is no risk of collision. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A database query result resource, or FALSE if the query was not executed correctly. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g953354ea01b236440b187210dc18aad9"></a><!-- doxytag: member="database.pgsql.inc::db_result" ref="g953354ea01b236440b187210dc18aad9" args="($result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_result           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>result</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return an individual result field from the previous query.<p>
Only use this function if exactly one field is being selected; otherwise, use <a class="el" href="database_8mysql_8inc.html#5faaeba7105d28828db453b4fd3c75d4">db_fetch_object()</a> or <a class="el" href="database_8mysql_8inc.html#2bd5f98fec7f21ee2c37f6b83785dcb9">db_fetch_array()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$result</em>&nbsp;</td><td>A database query result resource, as returned from <a class="el" href="database_8mysql-common_8inc.html#9e096321b86945d128746ac7bedce8f3">db_query()</a>. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The resulting field or FALSE. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g0869f72f75d16bd0f9a52eaafa02e091"></a><!-- doxytag: member="database.inc::db_rewrite_sql" ref="g0869f72f75d16bd0f9a52eaafa02e091" args="($query, $primary_table= 'n', $primary_field= 'nid', $args=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_rewrite_sql           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>primary_table</em> = <code>'n'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>primary_field</em> = <code>'nid'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>args</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Rewrites node, taxonomy and comment queries. Use it for listing queries. Do not use FROM table1, table2 syntax, use JOIN instead.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$query</em>&nbsp;</td><td>Query to be rewritten. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$primary_table</em>&nbsp;</td><td>Name or alias of the table which has the primary key field for this query. Typical table names would be: {blocks}, {comments}, {forum}, {node}, {menu}, {term_data} or {vocabulary}. However, it is more common to use the the usual table aliases: b, c, f, n, m, t or v. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$primary_field</em>&nbsp;</td><td>Name of the primary field. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$args</em>&nbsp;</td><td>An array of arguments, passed to the implementations of hook_db_rewrite_sql. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The original query with JOIN and WHERE statements inserted from hook_db_rewrite_sql implementations. nid is rewritten if needed. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g84e68f6dbf9cdec826e7b3852d1b283c"></a><!-- doxytag: member="database.inc::db_set_active" ref="g84e68f6dbf9cdec826e7b3852d1b283c" args="($name= 'default')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_set_active           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em> = <code>'default'</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Activate a database for future queries.<p>
If it is necessary to use external databases in a project, this function can be used to change where database queries are sent. If the database has not yet been used, it is initialized using the URL specified for that name in Drupal's configuration file. If this name is not defined, a duplicate of the default connection is made instead.<p>
Be sure to change the connection back to the default when done with custom code.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$name</em>&nbsp;</td><td>The name assigned to the newly active database connection. If omitted, the default connection will be made active.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the name of the previously active database or FALSE if non was found. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g0f08b7a80942b33cdc67eebc95e0ee6b"></a><!-- doxytag: member="database.pgsql.inc::db_status_report" ref="g0f08b7a80942b33cdc67eebc95e0ee6b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_status_report           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Report database status. 
</div>
</div><p>
<a class="anchor" name="g78809300cee80db034832825aed55b70"></a><!-- doxytag: member="database.pgsql.inc::db_table_exists" ref="g78809300cee80db034832825aed55b70" args="($table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_table_exists           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if a table exists. 
</div>
</div><p>
<a class="anchor" name="g827df02252c1d606c685b768807b7181"></a><!-- doxytag: member="database.pgsql.inc::db_unlock_tables" ref="g827df02252c1d606c685b768807b7181" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_unlock_tables           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unlock all locked tables. This function automatically commits a transaction. 
</div>
</div><p>
<a class="anchor" name="g6736a6897048ff0167a0bbe5e374fc13"></a><!-- doxytag: member="database.pgsql.inc::db_version" ref="g6736a6897048ff0167a0bbe5e374fc13" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_version           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the version of the database server currently in use.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Database server version </dd></dl>

</div>
</div><p>
<a class="anchor" name="ge456e13108bb88fa7a532e1cccdeaa50"></a><!-- doxytag: member="pager.inc::pager_query" ref="ge456e13108bb88fa7a532e1cccdeaa50" args="($query, $limit=10, $element=0, $count_query=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pager_query           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>limit</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>element</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>count_query</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Perform a paged database query.<p>
Use this function when doing select queries you wish to be able to page. The pager uses LIMIT-based queries to fetch only the records required to render a certain page. However, it has to learn the total number of records returned by the query to compute the number of pages (the number of records / records per page). This is done by inserting "COUNT(*)" in the original query. For example, the query "SELECT nid, type FROM node WHERE status = '1' ORDER BY sticky DESC, created DESC" would be rewritten to read "SELECT COUNT(*) FROM node WHERE status = '1' ORDER BY sticky DESC, created DESC". Rewriting the query is accomplished using a regular expression.<p>
Unfortunately, the rewrite rule does not always work as intended for queries that already have a "COUNT(*)" or a "GROUP BY" clause, and possibly for other complex queries. In those cases, you can optionally pass a query that will be used to count the records.<p>
For example, if you want to page the query "SELECT COUNT(*), TYPE FROM node GROUP BY TYPE", <a class="el" href="group__database.html#ge456e13108bb88fa7a532e1cccdeaa50">pager_query()</a> would invoke the incorrect query "SELECT COUNT(*) FROM node GROUP BY TYPE". So instead, you should pass "SELECT COUNT(DISTINCT(TYPE)) FROM node" as the optional $count_query parameter.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$query</em>&nbsp;</td><td>The SQL query that needs paging. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$limit</em>&nbsp;</td><td>The number of query results to display per page. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$element</em>&nbsp;</td><td>An optional integer to distinguish between multiple pagers on one page. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$count_query</em>&nbsp;</td><td>An SQL query used to count matching records. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>A variable number of arguments which are substituted into the query (and the count query) using printf() syntax. Instead of a variable number of query arguments, you may also pass a single array containing the query arguments. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A database query result resource, or FALSE if the query was not executed correctly. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gd893ca6e60341e448203269c520696ce"></a><!-- doxytag: member="tablesort.inc::tablesort_sql" ref="gd893ca6e60341e448203269c520696ce" args="($header, $before= '')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tablesort_sql           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>before</em> = <code>''</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create an SQL sort clause.<p>
This function produces the ORDER BY clause to insert in your SQL queries, assuring that the returned database table rows match the sort order chosen by the user.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$header</em>&nbsp;</td><td>An array of column headers in the format described in <a class="el" href="group__themeable.html#g77f053aaa73bbeaa3943bf8f06ce625d">theme_table()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$before</em>&nbsp;</td><td>An SQL string to insert after ORDER BY and before the table sorting code. Useful for sorting by important attributes like "sticky" first. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An SQL string to append to the end of a query. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g67680310ffaf72da52a9c2453325c0fb"></a><!-- doxytag: member="database.inc::update_sql" ref="g67680310ffaf72da52a9c2453325c0fb" args="($sql)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update_sql           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sql</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Perform an SQL query and return success or failure.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$sql</em>&nbsp;</td><td>A string containing a complete SQL query. -substitution parameters are not supported. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An array containing the keys: success: a boolean indicating whether the query succeeded query: the SQL query executed, passed through <a class="el" href="bootstrap_8inc.html#76fc67a30fd8d75ddd80565e6e65a13d">check_plain()</a> </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Feb 12 18:59:46 2011 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
