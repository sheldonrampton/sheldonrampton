<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>File interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>File interface</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>FILE_DOWNLOADS_PUBLIC</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>FILE_DOWNLOADS_PRIVATE</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>FILE_CREATE_DIRECTORY</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>FILE_MODIFY_PERMISSIONS</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>FILE_EXISTS_RENAME</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>FILE_EXISTS_REPLACE</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>FILE_EXISTS_ERROR</b> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g436af683744d1fefcd6da3d694633d19">FILE_STATUS_TEMPORARY</a> </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>FILE_STATUS_PERMANENT</b> </td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g1a305a4da1e6e5c6b1783ceffb66c340">file_create_url</a> ($path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g306337da81ebf20aa858167c0ca5a979">file_create_path</a> ($dest=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g1cae9f6fea37182a71710f0209d586dd">file_check_directory</a> (&amp;$directory, $mode=0, $form_item=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gf6eee3f0c0c8bc7ebca388ed3032ba66">file_check_path</a> (&amp;$path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g1cdeffc5a199d73e83e1e1d27753f619">file_check_location</a> ($source, $directory= '')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g7b8986808579dfb242787b60c8b9838a">file_copy</a> (&amp;$source, $dest=0, $replace=FILE_EXISTS_RENAME)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g3136d98d6189607e6cba12aaff55c66d">file_destination</a> ($destination, $replace)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gd1dc7d1fd2d90de77d53d4fb90fb16b3">file_move</a> (&amp;$source, $dest=0, $replace=FILE_EXISTS_RENAME)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#ge5f97959982c78dfde2f806757c21368">file_munge_filename</a> ($filename, $extensions, $alerts=TRUE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gbda71018b91068bcd9fcd527a0493347">file_unmunge_filename</a> ($filename)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g057bbfa5f89c4e4c75f0030e6f1f3809">file_create_filename</a> ($basename, $directory)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g58d648a7a057d1e014727c7958935af6">file_delete</a> ($path)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g1cffb160754bb1704ab2c773a7c1ffb4">file_space_used</a> ($uid=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gfb10e016dd068cbc5915619f7ca9bf2c">file_save_upload</a> ($source, $validators=array(), $dest=FALSE, $replace=FILE_EXISTS_RENAME)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#ga70aadd824b8e9b654597c4fb6b6c70a">file_validate_name_length</a> ($file)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g7f9c8080c156bba75bf4ad9812378a2c">file_validate_extensions</a> ($file, $extensions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g69120c7a4e953069673539c6710575f4">file_validate_size</a> ($file, $file_limit=0, $user_limit=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gbabb21f40d60d2cbd21953d0935abdb7">file_validate_is_image</a> (&amp;$file)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gb6e58a5341acf0be4c030887836f75f6">file_validate_image_resolution</a> (&amp;$file, $maximum_dimensions=0, $minimum_dimensions=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g0c3dd2f6c8734744740fd1f00f84c719">file_save_data</a> ($data, $dest, $replace=FILE_EXISTS_RENAME)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g68a0e6728e47cf2f9d543a0002ff3f49">file_set_status</a> (&amp;$file, $status)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g33925d82d6b6057e73ae7853f1be7125">file_transfer</a> ($source, $headers)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g91226299fab7e95a673f6461bbc19b02">file_download</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g374c73d3fe4f45c2d64a5fb0b22cb118">file_scan_directory</a> ($dir, $mask, $nomask=array('.', '..', 'CVS'), $callback=0, $recurse=TRUE, $key= 'filename', $min_depth=0, $depth=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g250e5cfba54030ab1e5f031608860e42">file_directory_temp</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gd516f499a62a2e22f95f4969262cd617">file_directory_path</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g7cf25e6a2532a1d022ee1c655f895380">file_upload_max_size</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#g27868c5159f7f001457c284123fe9311">file_get_mimetype</a> ($filename, $mapping=NULL)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Common file handling functions. <hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="g436af683744d1fefcd6da3d694633d19"></a><!-- doxytag: member="file.inc::FILE_STATUS_TEMPORARY" ref="g436af683744d1fefcd6da3d694633d19" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__file.html#g436af683744d1fefcd6da3d694633d19">FILE_STATUS_TEMPORARY</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A files status can be one of two values: temporary or permanent. The status for each file Drupal manages is stored in the {files} tables. If the status is temporary Drupal's file garbage collection will delete the file and remove it from the files table after a set period of time.<p>
If you wish to add custom statuses for use by contrib modules please expand as binary flags and consider the first 8 bits reserved. (0,1,2,4,8,16,32,64,128) 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g1cae9f6fea37182a71710f0209d586dd"></a><!-- doxytag: member="file.inc::file_check_directory" ref="g1cae9f6fea37182a71710f0209d586dd" args="(&amp;$directory, $mode=0, $form_item=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_check_directory           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>mode</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>form_item</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check that the directory exists and is writable. Directories need to have execute permissions to be considered a directory by FTP servers, etc.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$directory</em>&nbsp;</td><td>A string containing the name of a directory path. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$mode</em>&nbsp;</td><td>A Boolean value to indicate if the directory should be created if it does not exist or made writable if it is read-only. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$form_item</em>&nbsp;</td><td>An optional string containing the name of a form item that any errors will be attached to. This is useful for settings forms that require the user to specify a writable directory. If it can't be made to work, a form error will be set preventing them from saving the settings. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE when directory not found, or TRUE when directory exists. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g1cdeffc5a199d73e83e1e1d27753f619"></a><!-- doxytag: member="file.inc::file_check_location" ref="g1cdeffc5a199d73e83e1e1d27753f619" args="($source, $directory= '')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_check_location           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>directory</em> = <code>''</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if a file is really located inside $directory. Should be used to make sure a file specified is really located within the directory to prevent exploits.<p>
<div class="fragment"><pre class="fragment">   <span class="comment">// Returns FALSE:</span>
   <a class="code" href="group__file.html#g1cdeffc5a199d73e83e1e1d27753f619">file_check_location</a>(<span class="stringliteral">'/www/example.com/files/../../../etc/passwd'</span>, <span class="stringliteral">'/www/example.com/files'</span>);
</pre></div><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$source</em>&nbsp;</td><td>A string set to the file to check. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$directory</em>&nbsp;</td><td>A string where the file should be located. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for invalid path or the real path of the source. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gf6eee3f0c0c8bc7ebca388ed3032ba66"></a><!-- doxytag: member="file.inc::file_check_path" ref="gf6eee3f0c0c8bc7ebca388ed3032ba66" args="(&amp;$path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_check_path           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks path to see if it is a directory, or a dir/file.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$path</em>&nbsp;</td><td>A string containing a file path. This will be set to the directory's path. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>If the directory is not in a Drupal writable directory, FALSE is returned. Otherwise, the base name of the path is returned. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g7b8986808579dfb242787b60c8b9838a"></a><!-- doxytag: member="file.inc::file_copy" ref="g7b8986808579dfb242787b60c8b9838a" args="(&amp;$source, $dest=0, $replace=FILE_EXISTS_RENAME)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_copy           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dest</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>replace</em> = <code>FILE_EXISTS_RENAME</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copies a file to a new location.<p>
This is a powerful function that in many ways performs like an advanced version of copy().<ul>
<li>Checks if $source and $dest are valid and readable/writable.</li><li>Performs a file copy if $source is not equal to $dest.</li><li>If file already exists in $dest either the call will error out, replace the file or rename the file based on the $replace parameter.</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$source</em>&nbsp;</td><td>Either a string specifying the file location of the original file or an object containing a 'filepath' property. This parameter is passed by reference and will contain the resulting destination filename in case of success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dest</em>&nbsp;</td><td>A string containing the directory $source should be copied to. If this value is omitted, Drupal's 'files' directory will be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$replace</em>&nbsp;</td><td>Replace behavior when the destination file already exists.<ul>
<li>FILE_EXISTS_REPLACE: Replace the existing file.</li><li>FILE_EXISTS_RENAME: Append _{incrementing number} until the filename is unique.</li><li>FILE_EXISTS_ERROR: Do nothing and return FALSE. </li></ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE for success, FALSE for failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g057bbfa5f89c4e4c75f0030e6f1f3809"></a><!-- doxytag: member="file.inc::file_create_filename" ref="g057bbfa5f89c4e4c75f0030e6f1f3809" args="($basename, $directory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_create_filename           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>basename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>directory</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a full file path from a directory and filename. If a file with the specified name already exists, an alternative will be used.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$basename</em>&nbsp;</td><td>string filename </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$directory</em>&nbsp;</td><td>string directory </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div><p>
<a class="anchor" name="g306337da81ebf20aa858167c0ca5a979"></a><!-- doxytag: member="file.inc::file_create_path" ref="g306337da81ebf20aa858167c0ca5a979" args="($dest=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_create_path           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dest</em> = <code>0</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Make sure the destination is a complete path and resides in the file system directory, if it is not prepend the file system directory.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$dest</em>&nbsp;</td><td>A string containing the path to verify. If this value is omitted, Drupal's 'files' directory will be used. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A string containing the path to file, with file system directory appended if necessary, or FALSE if the path is invalid (i.e. outside the configured 'files' or temp directories). </dd></dl>

</div>
</div><p>
<a class="anchor" name="g1a305a4da1e6e5c6b1783ceffb66c340"></a><!-- doxytag: member="file.inc::file_create_url" ref="g1a305a4da1e6e5c6b1783ceffb66c340" args="($path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_create_url           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create the download path to a file.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$path</em>&nbsp;</td><td>A string containing the path of the file to generate URL for. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A string containing a URL that can be used to download the file. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g58d648a7a057d1e014727c7958935af6"></a><!-- doxytag: member="file.inc::file_delete" ref="g58d648a7a057d1e014727c7958935af6" args="($path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_delete           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete a file.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$path</em>&nbsp;</td><td>A string containing a file path. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE for success, FALSE for failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g3136d98d6189607e6cba12aaff55c66d"></a><!-- doxytag: member="file.inc::file_destination" ref="g3136d98d6189607e6cba12aaff55c66d" args="($destination, $replace)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_destination           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>replace</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determines the destination path for a file depending on how replacement of existing files should be handled.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$destination</em>&nbsp;</td><td>A string specifying the desired path. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$replace</em>&nbsp;</td><td>Replace behavior when the destination file already exists.<ul>
<li>FILE_EXISTS_REPLACE - Replace the existing file</li><li>FILE_EXISTS_RENAME - Append _{incrementing number} until the filename is unique</li><li>FILE_EXISTS_ERROR - Do nothing and return FALSE. </li></ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The destination file path or FALSE if the file already exists and FILE_EXISTS_ERROR was specified. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gd516f499a62a2e22f95f4969262cd617"></a><!-- doxytag: member="file.inc::file_directory_path" ref="gd516f499a62a2e22f95f4969262cd617" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_directory_path           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine the default 'files' directory.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A string containing the path to Drupal's 'files' directory. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g250e5cfba54030ab1e5f031608860e42"></a><!-- doxytag: member="file.inc::file_directory_temp" ref="g250e5cfba54030ab1e5f031608860e42" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_directory_temp           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine the default temporary directory.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A string containing a temp directory. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g91226299fab7e95a673f6461bbc19b02"></a><!-- doxytag: member="file.inc::file_download" ref="g91226299fab7e95a673f6461bbc19b02" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_download           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call modules that implement hook_file_download() to find out if a file is accessible and what headers it should be transferred with. If a module returns -1 <a class="el" href="common_8inc.html#0bbff371f9373002e71f2e1347fcf481">drupal_access_denied()</a> will be returned. If one or more modules returned headers the download will start with the returned headers. If no modules respond <a class="el" href="common_8inc.html#52b08cd98e1756326c1bd5b56c39a884">drupal_not_found()</a> will be returned. 
</div>
</div><p>
<a class="anchor" name="g27868c5159f7f001457c284123fe9311"></a><!-- doxytag: member="file.inc::file_get_mimetype" ref="g27868c5159f7f001457c284123fe9311" args="($filename, $mapping=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_get_mimetype           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>mapping</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine an Internet Media Type, or MIME type from a filename.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$filename</em>&nbsp;</td><td>Name of the file, including extension. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$mapping</em>&nbsp;</td><td>An optional array of extension to media type mappings in the form 'extension1|extension2|...' =&gt; 'type'.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The internet media type registered for the extension or application/octet-stream for unknown extensions. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gd1dc7d1fd2d90de77d53d4fb90fb16b3"></a><!-- doxytag: member="file.inc::file_move" ref="gd1dc7d1fd2d90de77d53d4fb90fb16b3" args="(&amp;$source, $dest=0, $replace=FILE_EXISTS_RENAME)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_move           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dest</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>replace</em> = <code>FILE_EXISTS_RENAME</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Moves a file to a new location.<p>
<ul>
<li>Checks if $source and $dest are valid and readable/writable.</li><li>Performs a file move if $source is not equal to $dest.</li><li>If file already exists in $dest either the call will error out, replace the file or rename the file based on the $replace parameter.</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$source</em>&nbsp;</td><td>Either a string specifying the file location of the original file or an object containing a 'filepath' property. This parameter is passed by reference and will contain the resulting destination filename in case of success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dest</em>&nbsp;</td><td>A string containing the directory $source should be copied to. If this value is omitted, Drupal's 'files' directory will be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$replace</em>&nbsp;</td><td>Replace behavior when the destination file already exists.<ul>
<li>FILE_EXISTS_REPLACE: Replace the existing file.</li><li>FILE_EXISTS_RENAME: Append _{incrementing number} until the filename is unique.</li><li>FILE_EXISTS_ERROR: Do nothing and return FALSE. </li></ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE for success, FALSE for failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ge5f97959982c78dfde2f806757c21368"></a><!-- doxytag: member="file.inc::file_munge_filename" ref="ge5f97959982c78dfde2f806757c21368" args="($filename, $extensions, $alerts=TRUE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_munge_filename           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>extensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>alerts</em> = <code>TRUE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Modify a filename as needed for security purposes.<p>
Munging a file name prevents unknown file extensions from masking exploit files. When web servers such as Apache decide how to process a URL request, they use the file extension. If the extension is not recognized, Apache skips that extension and uses the previous file extension. For example, if the file being requested is exploit.php.pps, and Apache does not recognize the '.pps' extension, it treats the file as PHP and executes it. To make this file name safe for Apache and prevent it from executing as PHP, the .php extension is "munged" into .php_, making the safe file name exploit.php_.pps.<p>
Specifically, this function adds an underscore to all extensions that are between 2 and 5 characters in length, internal to the file name, and not included in $extensions.<p>
Function behavior is also controlled by the Drupal variable 'allow_insecure_uploads'. If 'allow_insecure_uploads' evaluates to TRUE, no alterations will be made, if it evaluates to FALSE, the filename is 'munged'.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$filename</em>&nbsp;</td><td>File name to modify. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$extensions</em>&nbsp;</td><td>A space-separated list of extensions that should not be altered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$alerts</em>&nbsp;</td><td>If TRUE, <a class="el" href="bootstrap_8inc.html#d9223d86c7b08b1288274ce211d9bfa6">drupal_set_message()</a> will be called to display a message if the file name was changed.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The potentially modified $filename. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g0c3dd2f6c8734744740fd1f00f84c719"></a><!-- doxytag: member="file.inc::file_save_data" ref="g0c3dd2f6c8734744740fd1f00f84c719" args="($data, $dest, $replace=FILE_EXISTS_RENAME)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_save_data           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>replace</em> = <code>FILE_EXISTS_RENAME</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Save a string to the specified destination.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$data</em>&nbsp;</td><td>A string containing the contents of the file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dest</em>&nbsp;</td><td>A string containing the destination location. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$replace</em>&nbsp;</td><td>Replace behavior when the destination file already exists.<ul>
<li>FILE_EXISTS_REPLACE - Replace the existing file</li><li>FILE_EXISTS_RENAME - Append _{incrementing number} until the filename is unique</li><li>FILE_EXISTS_ERROR - Do nothing and return FALSE.</li></ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A string containing the resulting filename or 0 on error </dd></dl>

</div>
</div><p>
<a class="anchor" name="gfb10e016dd068cbc5915619f7ca9bf2c"></a><!-- doxytag: member="file.inc::file_save_upload" ref="gfb10e016dd068cbc5915619f7ca9bf2c" args="($source, $validators=array(), $dest=FALSE, $replace=FILE_EXISTS_RENAME)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_save_upload           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>validators</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dest</em> = <code>FALSE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>replace</em> = <code>FILE_EXISTS_RENAME</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Saves a file upload to a new location. The source file is validated as a proper upload and handled as such.<p>
The file will be added to the files table as a temporary file. Temporary files are periodically cleaned. To make the file permanent file call <a class="el" href="group__file.html#g68a0e6728e47cf2f9d543a0002ff3f49">file_set_status()</a> to change its status.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$source</em>&nbsp;</td><td>A string specifying the name of the upload field to save. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$validators</em>&nbsp;</td><td>An optional, associative array of callback functions used to validate the file. The keys are function names and the values arrays of callback parameters which will be passed in after the file object. The functions should return an array of error messages; an empty array indicates that the file passed validation. The functions will be called in the order specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$dest</em>&nbsp;</td><td>A string containing the directory $source should be copied to. If this is not provided or is not writable, the temporary directory will be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$replace</em>&nbsp;</td><td>A boolean indicating whether an existing file of the same name in the destination directory should overwritten. A false value will generate a new, unique filename in the destination directory. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An object containing the file information, or 0 in the event of an error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g374c73d3fe4f45c2d64a5fb0b22cb118"></a><!-- doxytag: member="file.inc::file_scan_directory" ref="g374c73d3fe4f45c2d64a5fb0b22cb118" args="($dir, $mask, $nomask=array('.', '..', 'CVS'), $callback=0, $recurse=TRUE, $key= 'filename', $min_depth=0, $depth=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_scan_directory           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>nomask</em> = <code>array('.',&nbsp;'..',&nbsp;'CVS')</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>callback</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>recurse</em> = <code>TRUE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>key</em> = <code>'filename'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>min_depth</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>depth</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds all files that match a given mask in a given directory. Directories and files beginning with a period are excluded; this prevents hidden files and directories (such as SVN working directories) from being scanned.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$dir</em>&nbsp;</td><td>The base directory for the scan, without trailing slash. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$mask</em>&nbsp;</td><td>The regular expression of the files to find. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$nomask</em>&nbsp;</td><td>An array of files/directories to ignore. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$callback</em>&nbsp;</td><td>The callback function to call for each match. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$recurse</em>&nbsp;</td><td>When TRUE, the directory scan will recurse the entire tree starting at the provided directory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$key</em>&nbsp;</td><td>The key to be used for the returned array of files. Possible values are "filename", for the path starting with $dir, "basename", for the basename of the file, and "name" for the name of the file without an extension. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$min_depth</em>&nbsp;</td><td>Minimum depth of directories to return files from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$depth</em>&nbsp;</td><td>Current depth of recursion. This parameter is only used internally and should not be passed.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An associative array (keyed on the provided key) of objects with "path", "basename", and "name" members corresponding to the matching files. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g68a0e6728e47cf2f9d543a0002ff3f49"></a><!-- doxytag: member="file.inc::file_set_status" ref="g68a0e6728e47cf2f9d543a0002ff3f49" args="(&amp;$file, $status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_set_status           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>status</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the status of a file.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>A Drupal file object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>A status value to set the file to. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE on failure, TRUE on success and $file-&gt;status will contain the status. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g1cffb160754bb1704ab2c773a7c1ffb4"></a><!-- doxytag: member="file.inc::file_space_used" ref="g1cffb160754bb1704ab2c773a7c1ffb4" args="($uid=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_space_used           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>uid</em> = <code>NULL</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine total disk space used by a single user or the whole filesystem.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$uid</em>&nbsp;</td><td>An optional user id. A NULL value returns the total space used by all files. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g33925d82d6b6057e73ae7853f1be7125"></a><!-- doxytag: member="file.inc::file_transfer" ref="g33925d82d6b6057e73ae7853f1be7125" args="($source, $headers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_transfer           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>headers</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transfer file using http to client. Pipes a file through Drupal to the client.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$source</em>&nbsp;</td><td>File to transfer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$headers</em>&nbsp;</td><td>An array of http headers to send along with file. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gbda71018b91068bcd9fcd527a0493347"></a><!-- doxytag: member="file.inc::file_unmunge_filename" ref="gbda71018b91068bcd9fcd527a0493347" args="($filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_unmunge_filename           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Undo the effect of upload_munge_filename().<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$filename</em>&nbsp;</td><td>string filename </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string </dd></dl>

</div>
</div><p>
<a class="anchor" name="g7cf25e6a2532a1d022ee1c655f895380"></a><!-- doxytag: member="file.inc::file_upload_max_size" ref="g7cf25e6a2532a1d022ee1c655f895380" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_upload_max_size           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine the maximum file upload size by querying the PHP settings.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A file size limit in bytes based on the PHP upload_max_filesize and post_max_size </dd></dl>

</div>
</div><p>
<a class="anchor" name="g7f9c8080c156bba75bf4ad9812378a2c"></a><!-- doxytag: member="file.inc::file_validate_extensions" ref="g7f9c8080c156bba75bf4ad9812378a2c" args="($file, $extensions)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_validate_extensions           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>extensions</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check that the filename ends with an allowed extension. This check is not enforced for the user #1.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$file</em>&nbsp;</td><td>A Drupal file object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$extensions</em>&nbsp;</td><td>A string with a space separated </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An array. If the file extension is not allowed, it will contain an error message. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gb6e58a5341acf0be4c030887836f75f6"></a><!-- doxytag: member="file.inc::file_validate_image_resolution" ref="gb6e58a5341acf0be4c030887836f75f6" args="(&amp;$file, $maximum_dimensions=0, $minimum_dimensions=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_validate_image_resolution           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>maximum_dimensions</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>minimum_dimensions</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If the file is an image verify that its dimensions are within the specified maximum and minimum dimensions. Non-image files will be ignored.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$file</em>&nbsp;</td><td>A Drupal file object. This function may resize the file affecting its size. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$maximum_dimensions</em>&nbsp;</td><td>An optional string in the form WIDTHxHEIGHT e.g. '640x480' or '85x85'. If an image toolkit is installed the image will be resized down to these dimensions. A value of 0 indicates no restriction on size, so resizing will be attempted. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$minimum_dimensions</em>&nbsp;</td><td>An optional string in the form WIDTHxHEIGHT. This will check that the image meets a minimum size. A value of 0 indicates no restriction. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An array. If the file is an image and did not meet the requirements, it will contain an error message. </dd></dl>

</div>
</div><p>
<a class="anchor" name="gbabb21f40d60d2cbd21953d0935abdb7"></a><!-- doxytag: member="file.inc::file_validate_is_image" ref="gbabb21f40d60d2cbd21953d0935abdb7" args="(&amp;$file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_validate_is_image           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check that the file is recognized by <a class="el" href="group__image.html#g64daec548dec0ae4c1d30053446e8f80">image_get_info()</a> as an image.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$file</em>&nbsp;</td><td>A Drupal file object. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An array. If the file is not an image, it will contain an error message. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ga70aadd824b8e9b654597c4fb6b6c70a"></a><!-- doxytag: member="file.inc::file_validate_name_length" ref="ga70aadd824b8e9b654597c4fb6b6c70a" args="($file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_validate_name_length           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>file</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check for files with names longer than we can store in the database.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$file</em>&nbsp;</td><td>A Drupal file object. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An array. If the file name is too long, it will contain an error message. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g69120c7a4e953069673539c6710575f4"></a><!-- doxytag: member="file.inc::file_validate_size" ref="g69120c7a4e953069673539c6710575f4" args="($file, $file_limit=0, $user_limit=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_validate_size           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>file_limit</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>user_limit</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check that the file's size is below certain limits. This check is not enforced for the user #1.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$file</em>&nbsp;</td><td>A Drupal file object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$file_limit</em>&nbsp;</td><td>An integer specifying the maximum file size in bytes. Zero indicates that no limit should be enforced. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$user_limit</em>&nbsp;</td><td>An integer specifying the maximum number of bytes the user is allowed. Zero indicates that no limit should be enforced. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>An array. If the file size exceeds limits, it will contain an error message. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Feb 12 18:59:46 2011 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
